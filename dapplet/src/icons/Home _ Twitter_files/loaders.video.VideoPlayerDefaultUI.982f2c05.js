(window.webpackJsonp=window.webpackJsonp||[]).push([[189],{"0W/e":function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("rHpw");const r=e=>1===e?{height:n.a.theme.spacesPx.space48,width:n.a.theme.spacesPx.space48}:{height:n.a.theme.spacesPx.space40,width:e*n.a.theme.spacesPx.space40}},PEva:function(e,t,a){"use strict";a.r(t);var n=a("KEM+"),r=a.n(n),l=a("ERkP"),i=a.n(l),s=a("+xEG"),o=a("aoyV"),c=a("Zl35"),u=a("fZNH"),p=a("ub6r"),m=a("0nHQ"),d=a("USG3"),h=a("Q0n6"),b=a("5VhU"),y=a("hhMf"),f=a("Ur4q"),E=a("oH2E"),g=a("t62R"),S=a("Wms4"),v=a("vCAy"),C=a("w05h"),w=a("IE/l"),R=a("N2PN"),T=a("dPHj"),A=a("/yvb"),k=a("0W/e"),L=a("kCRK"),_=a("Lsrn"),O=a("k/Ka");const x=(e={})=>Object(O.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[_.a.root,e.style],viewBox:"0 0 24 24"},i.a.createElement("g",null,i.a.createElement("path",{d:"M20.5 2h-1c-.828 0-1.5.672-1.5 1.5v6.976L4.87 2.116c-.228-.146-.522-.157-.762-.023-.24.132-.39.384-.39.657v18.5c0 .273.15.525.39.657.113.063.237.093.36.093.142 0 .28-.04.403-.117L18 13.527V20.5c0 .828.672 1.5 1.5 1.5h1c.828 0 1.5-.672 1.5-1.5v-17c0-.828-.672-1.5-1.5-1.5z"})));x.metadata={width:24,height:24};var I=x,P=a("3rX5"),F=a("cm6r"),B=a("fs1G"),N=a("rHpw"),D=a("shC7"),M=a("MWbm");const j=N.a.create((({borderRadii:e,borderWidths:t,colors:a,spaces:n})=>({thumbnail:{backgroundColor:a.translucentBlack77,borderRadius:e.small,display:"flex",flexDirection:D.a.getConstants().isRTL?"row-reverse":"row",overflow:"hidden",opacity:1},thumbnailFocused:{boxShadow:`0 0 0 ${t.medium} ${a.white}`,outlineStyle:"none"},countdownTime:{paddingHorizontal:n.space4,minWidth:"1em",display:"flex",alignItems:"center",justifyContent:"center",fontVariant:["tabular-nums"]},iconMargin:{marginLeft:"0.5em"},iconMarginRtl:{marginRight:"0.5em"}})));var W=({onClick:e})=>{const{aspectRatio:t,playerState:a}=i.a.useContext(c.b.PeriodicContext);if(!a)return null;const n=Object(h.e)(a);if(!n||n.displayType!==L.c.AD)return null;const r=n.durationMs,l=r<7e3,s=(l?r:5e3)-(n.currentTimeMs||0),o=s>250,u=s<0,p=Object(h.d)(n)||0,m=Object(h.f)(n)||0,b=(l?m:5)-p,y=Object(C.m)({seconds:Object(C.q)(b)});return i.a.createElement(F.a,{accessibilityLabel:u?C.l:y,accessibilityRole:"button",focusable:!0,interactive:!0,interactiveStyles:null,onClick:u&&e?e:B.a,testID:"ControlBar-containerView"},(e=>{const n=D.a.getConstants().isRTL;return i.a.createElement(i.a.Fragment,null,!u&&i.a.createElement(d.a,{show:o},i.a.createElement(M.a,{style:[j.thumbnail,e.isFocused&&j.thumbnailFocused],testID:"ControlBar-videoThumbnail"},i.a.createElement(g.b,{color:"white",size:"subtext2",style:j.countdownTime},b),i.a.createElement(P.a,{source:a.posterImage,style:Object(k.a)(t)}))),i.a.createElement(d.a,{show:u},i.a.createElement(A.a,{focusable:!1,interactivityState:e,pointerEvents:"auto",size:"small",testID:"ControlBar-skipButton",type:"onMediaDominantColorFilled"},i.a.createElement(g.b,{dir:"ltr",weight:"normal"},C.k,i.a.createElement(I,{style:n?j.iconMarginRtl:j.iconMargin})))))}))},H=a("aITJ"),V=a("kRXa"),z=a("wtsM"),U=a("5Ixf"),K=a("AtEG"),$=a("NnQ9"),G=a("p6DB");const X="PrerollControlBar-",Y={CAPTIONS:`${X}Captions`,FULLSCREEN:`${X}Fullscreen`};class q extends i.a.Component{constructor(...e){super(...e),r()(this,"_parentRef",i.a.createRef()),r()(this,"_renderRightContent",(e=>{const{playerApi:t,playerState:a}=this.props;if(!t||!a)return null;const n=H.b.isIOS();return i.a.createElement(i.a.Fragment,null,this._renderTimePlayed(),this._renderVolumeControls(t,a),!n&&i.a.createElement(e,{focus:!0,interactionKey:Y.FULLSCREEN,interactionTimeoutMs:0,mouseover:!0},this._renderFullScreenButton(t,a)))})),r()(this,"_renderActionButton",((e,t)=>{const{controls:a,isPlaying:n}=t,{pause:r,play:l}=e,s=Object(h.e)(t);return!s||s.isLive?null:n||a&&"PLAY_REQUESTED"===a.playState?i.a.createElement(R.b,{accessibilityLabel:z.d,hoverLabelPreferredHorizontalOrientation:"end",icon:i.a.createElement(U.a,null),onPress:r}):i.a.createElement(R.b,{accessibilityLabel:z.e,hoverLabelPreferredHorizontalOrientation:"end",icon:i.a.createElement(K.a,null),onPress:l})})),r()(this,"_renderAdText",(()=>i.a.createElement(T.a,null,C.o))),r()(this,"_renderTimePlayed",(()=>i.a.createElement(c.a,{periodic:!0},(({playerState:e})=>{const t=Object(h.e)(e),a=Object(h.d)(t),n=Object(h.f)(t);return t&&"number"==typeof a&&n&&!t.isLive?i.a.createElement(T.a,null,`${Object(h.b)(a)} / ${Object(h.b)(n)}`):null})))),r()(this,"_renderVolumeControls",((e,t)=>{const{isMuted:a,volume:n}=t,{mute:r,setVolume:l,unmute:s}=e,o=a?s:r,c=a?z.g:z.c;return i.a.createElement(V.a,{accessibilityLabelIcon:c,accessibilityLabelSlider:z.h,isMuted:a,onMuteToggle:o,onSliderChange:this._setVolumePercent(l),volumePercent:100*n})})),r()(this,"_setVolumePercent",(e=>t=>{e(t/100)})),r()(this,"_renderFullScreenButton",((e,t)=>{const{fullscreen:a}=t;return a.isFullscreen?i.a.createElement(R.b,{accessibilityLabel:z.b,hoverLabelPreferredHorizontalOrientation:"start",icon:i.a.createElement(Z,{isFullscreen:a.isFullscreen}),onPress:this._exitFullScreen(e)}):i.a.createElement(R.b,{accessibilityLabel:z.a,hoverLabelPreferredHorizontalOrientation:"start",icon:i.a.createElement(Z,{isFullscreen:a.isFullscreen}),onPress:this._requestFullScreen(e)})})),r()(this,"_requestFullScreen",(e=>()=>{e.fullScreen(this.props.containerRef)})),r()(this,"_exitFullScreen",(e=>()=>e.exitFullScreen())),r()(this,"_renderSkipAffordance",(()=>i.a.createElement(M.a,{pointerEvents:"none",style:Q.skipAffordance},i.a.createElement(W,null))))}render(){const{displayDismissableControls:e,playerApi:t,playerState:a,skipButton:n}=this.props;return t&&a?i.a.createElement(y.a.ObserverContext.Consumer,null,(r=>i.a.createElement(M.a,{ref:this._parentRef,style:Q.root},i.a.createElement(w.a,{actionButton:this._renderActionButton(t,a),displayDismissableControls:e,leftContent:this._renderAdText(),rightContent:this._renderRightContent(r),skipButton:n})))):null}}const Q=N.a.create((e=>({root:{writingDirection:"ltr",cursor:"auto",width:"100%"},skipAffordance:{marginLeft:e.spaces.space12,visibility:"hidden"}})));function Z({isFullscreen:e,style:t}){const{hidden:a,shown:n}=J;return i.a.createElement(i.a.Fragment,null,i.a.createElement($.a,{style:e?a:n}),i.a.createElement(G.a,{style:e?n:a}))}const J={hidden:{display:"none",height:"1.5em"},shown:{display:"block",height:"1.5em"}};var ee=q,te=a("jhWN");class ae extends i.a.PureComponent{constructor(...e){super(...e),r()(this,"_buildMessage",((e,t)=>{switch(e){case L.d.watch_now:return t?Object(C.e)({advertiserName:t}):C.j;case L.d.shop:return t?Object(C.c)({advertiserName:t}):C.h;case L.d.see_more:return t?Object(C.b)({advertiserName:t}):C.g;case L.d.go_to:return t?Object(C.a)({advertiserName:t}):C.f;case L.d.visit_site:default:return t?Object(C.d)({advertiserName:t}):C.i}})),r()(this,"_handlePress",(e=>()=>{e.callToActionClicked()}))}componentDidMount(){const{playerApi:e}=this.props;e&&e.callToActionImpression()}render(){const{advertiserName:e,avatarUri:t,ctaType:a,ctaUrl:n,playerApi:r}=this.props;if(!r)return null;const l=this._buildMessage(a,e);return i.a.createElement(A.a,{accessibilityLabel:l,icon:t?i.a.createElement(te.a,{borderColor:"white",borderWidth:"small",size:"medium",uri:t}):void 0,link:n,onPress:this._handlePress(r),size:"xSmall",style:ne.root,type:"onMediaDominantColorFilled"},l)}}const ne=N.a.create((e=>({root:{position:"absolute",left:e.spaces.space12,top:e.spaces.space12}})));var re=ae,le=a("aNKf");const ie=N.a.create((e=>({root:{position:"absolute",top:0,left:0,width:"100%"},gradientContainer:{padding:e.spaces.space16},flexRow:{alignItems:"center",flexDirection:"row"},rightSpacing:{marginRight:e.spaces.space4}})));var se=({children:e})=>i.a.createElement(M.a,{style:ie.root},i.a.createElement(le.a,{colors:[N.a.theme.colors.translucentBlack77,N.a.theme.colors.transparent],style:ie.gradientContainer},i.a.createElement(M.a,{style:ie.flexRow},i.a.Children.toArray(e).map(((e,t,{length:a})=>{const n=`LinearGradient-children-${t}`,r=t<a-1?ie.rightSpacing:"";return i.a.createElement(M.a,{key:n,style:r},e)}))))),oe=a("VLhD");class ce extends i.a.Component{constructor(...e){super(...e),r()(this,"state",{showControlBar:!1,stackedLabels:!1}),r()(this,"_durationLabelRef",i.a.createRef()),r()(this,"_descriptionLabelRef",i.a.createRef()),r()(this,"_handleLayout",(()=>{var e,t;const a=null===(e=this._durationLabelRef)||void 0===e?void 0:e.current,n=null===(t=this._descriptionLabelRef)||void 0===t?void 0:t.current;a&&n&&a.measure(((e,t)=>{n.measure(((e,a)=>{t!==a?this.setState({stackedLabels:!0}):this.setState({stackedLabels:!1})}))}))})),r()(this,"_renderPrerollControlBar",(e=>{const{containerRef:t,onSkip:a,playerApi:n,playerState:r}=this.props;if(!n||!r)return null;const{Observer:l,observed:s}=e,o=Object(oe.c)(r,s,oe.b),c=r.fullscreen.isFullscreen,u=D.a.getConstants().isRTL,p=[ue.labelOuterContainerBase,u?ue.labelOuterContainerRtl:ue.labelOuterContainerLtr];return i.a.createElement(M.a,{style:ue.bottomContentContainer},i.a.createElement(M.a,{style:ue.bottomContentRow},i.a.createElement(M.a,{style:[ue.forceFullWidth,ue.flexDirectionRow]},i.a.createElement(l,{focus:!0,interactionKey:oe.a.A11YHook},i.a.createElement(M.a,{focusable:!0})),i.a.createElement(M.a,{style:ue.flexExpand},i.a.createElement(M.a,{style:p},i.a.createElement(d.a,{show:o},i.a.createElement(M.a,{style:[ue.bottomContentRow,ue.rowBottomSpace]},this._renderLabels()))),c?null:i.a.createElement(M.a,{style:ue.bottomContentRow},i.a.createElement(M.a,{style:[ue.skipThumbnail,u?ue.skipThumbnailAbsoluteRtl:ue.skipThumbnailAbsolute],testID:pe.floatSkipThumbnail},i.a.createElement(W,{onClick:a}))),i.a.createElement(l,{focus:!0,interactionKey:oe.a.ControlBar,mouseover:!0,touch:!0},i.a.createElement(ee,{containerRef:t,displayDismissableControls:!o,playerApi:n,playerState:r,skipButton:c?i.a.createElement(M.a,{style:[ue.skipThumbnail,u?ue.skipThumbnailRelativeRtl:ue.skipThumbnailRelative],testID:pe.inlineSkipThumbnail},i.a.createElement(W,{onClick:a})):null}))))))})),r()(this,"_renderWithIntentionContext",(e=>{const{playerApi:t,playerState:a}=this.props;if(!t||!a)return null;const n=Object(h.e)(a),r=null==n?void 0:n.advertiserProfileImageUrl,l=null==n?void 0:n.advertiserName,s=null==n?void 0:n.cta;return i.a.createElement(i.a.Fragment,null,s?i.a.createElement(re,{advertiserName:l,avatarUri:r,ctaType:s.type,ctaUrl:s.url,playerApi:t}):i.a.createElement(se,null,r&&i.a.createElement(te.a,{accessibilityHidden:!0,borderColor:"white",borderWidth:"small",focusable:!1,size:"medium",uri:r}),l&&i.a.createElement(g.b,{color:"white",weight:"bold"},l)),this._renderPrerollControlBar(e))})),r()(this,"_renderLabels",(()=>i.a.createElement(c.a,{periodic:!0},(({playerState:e})=>{const t=Object(h.e)(e),a=Object(h.f)(t),n=Object(h.d)(t)||0,r=a?a-n:null,l=D.a.getConstants().isRTL,s=[ue.labelContainerBase,l?ue.labelContainerRtl:ue.labelContainerLtr],o=[v.b.borderRadiusLeft,this.state.stackedLabels&&v.b.borderRadiusRight],c=[v.b.borderRadiusRight,this.state.stackedLabels&&v.b.borderRadiusLeft],u=t&&"number"==typeof r&&!t.isLive?i.a.createElement(M.a,{ref:this._durationLabelRef},i.a.createElement(S.a,{key:"PrerollVideoOverlay-DurationLabel",style:[v.b.label,l?ue.labelSpaceLeft:v.b.spaceRight,this.state.stackedLabels&&ue.labelBottomSpace,...l?c:o]},i.a.createElement(g.b,{numberOfLines:1},Object(h.b)(r)))):null,p=i.a.createElement(M.a,{ref:this._descriptionLabelRef},i.a.createElement(S.a,{key:"PrerollVideoOverlay-DescriptionLabel",style:[v.b.label,l?ue.labelSpaceLeft:v.b.spaceRight,...l?o:c]},i.a.createElement(g.b,{numberOfLines:1},C.o)));return i.a.createElement(M.a,{onLayout:this._handleLayout,pointerEvents:"none",style:s},u,p)}))))}render(){const{playerApi:e,playerState:t}=this.props;return e&&t?i.a.createElement(y.a.Context.Consumer,null,this._renderWithIntentionContext):null}}const ue=N.a.create((e=>({bottomContentContainer:{flexWrap:"wrap",position:"absolute",bottom:0,width:"100%"},bottomContentRow:{alignItems:"flex-end",flexWrap:"nowrap",flexDirection:D.a.getConstants().isRTL?"row-reverse":"row",flexGrow:1,flexShrink:0,justifyContent:"space-between",width:"100%"},rowBottomSpace:{marginBottom:e.spaces.space12},forceFullWidth:{width:"100%"},labelOuterContainerBase:{flexWrap:"wrap",position:"absolute",bottom:0,maxWidth:"65%"},labelOuterContainerLtr:{flexDirection:"row",left:0},labelOuterContainerRtl:{flexDirection:"row-reverse",right:0},labelBottomSpace:{marginBottom:e.spaces.space2},labelContainerBase:{justifyContent:"flex-start",flexWrap:"wrap",flexGrow:1,flexShrink:1,flexBasis:"auto"},labelContainerLtr:{flexDirection:"row",marginLeft:e.spaces.space12},labelContainerRtl:{flexDirection:"row-reverse",marginRight:e.spaces.space12},labelSpaceLeft:{marginLeft:e.spaces.space2},skipThumbnail:{flexGrow:0,flexShrink:0,flexBasis:"auto",alignItems:"flex-end"},skipThumbnailRelative:{marginBottom:e.spaces.space12,marginRight:e.spaces.space12},skipThumbnailAbsolute:{position:"absolute",bottom:e.spaces.space12,right:e.spaces.space12,maxWidth:"35%"},skipThumbnailRelativeRtl:{marginBottom:e.spaces.space12,marginLeft:e.spaces.space12},skipThumbnailAbsoluteRtl:{position:"absolute",bottom:e.spaces.space12,left:e.spaces.space12,maxWidth:"35%"},flexExpand:{flexGrow:1,flexShrink:1,flexBasis:0},flexDirectionRow:{flexDirection:D.a.getConstants().isRTL?"row-reverse":"row"},flexWrap:{flexWrap:"wrap",justifyContent:"space-between"},hidden:{visibility:"hidden"}}))),pe={floatSkipThumbnail:"float-SkipThumbnail",inlineSkipThumbnail:"inline-SkipThumbnail"};var me=ce,de=a("uz49"),he=a("mNIZ"),be=a("zCLo"),ye=a("ReFq");class fe extends i.a.PureComponent{constructor(...e){super(...e),r()(this,"state",{wasPrerollSkipped:!1}),r()(this,"_renderVideoPlayer",(e=>{var t;const{playerApi:a,playerState:n,poster:r,useKeyboardShortcuts:l}=this.props;if(!a||!n)return null;const s=Object(h.e)(n),o=(null==s?void 0:s.displayType)===L.c.AD&&(null==s?void 0:s.playbackCompleted),p=null===(t=n.errorInfo)||void 0===t?void 0:t.adFailed,m=(null==s?void 0:s.displayType)===L.c.AD&&(null==s?void 0:s.useRedesignedPrerollUx);return m&&(this.state.wasPrerollSkipped||o||p)?i.a.createElement(c.a,null,(({aspectRatio:e})=>{const t=r||n.posterImage;return i.a.createElement(de.a,{aspectRatio:e,imageSrc:t,onTransitionComplete:this._handleTransitionAnimationComplete})})):m?this._renderVideo(e,!0):i.a.createElement(be.a,{enabled:!!l,playerApi:a,playerState:n},i.a.createElement(u.a,{playerState:n},this._renderVideo(e,!1)))})),r()(this,"_renderVideo",((e,t)=>{var a,n;const{accessibilityLabel:r,containerRef:l,customControlBarIcon:c,fullscreenAdsDisabledOnIOS:u,guestsState:y,onScribeEvent:g,playerApi:S,playerDisplayOptions:v,playerState:C,poster:w,shouldShowAltLabel:R,showWatchAgain:T}=this.props;if(!S||!C)return null;const{Observer:A,observed:k}=e,_=Object(oe.c)(C,k,oe.b),O=!!C.error,x=Object(h.e)(C),I=(null==x?void 0:x.contentType)===L.a.GIF,P="PLAY_REQUESTED"!==(null===(a=C.controls)||void 0===a?void 0:a.playState),F=T&&C.tracksFinished,B=_&&C.isPreview,N=!(!_||null==x||!x.isLive),D=R?r:void 0,j=!(null!=v&&v.hideLeftBadges)&&(!!D||I||B||N),W=!(null!=v&&v.hideRightBadges)&&_,H=!(null!=v&&v.hidePosterImage),V=null===(n=C.controls)||void 0===n?void 0:n.isPosterShown;return i.a.createElement(A,{click:!0,interactionKey:oe.a.Root,mousemove:!0,mouseover:!0},O?null:i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,{hideControls:_,isTouchOnlyUI:oe.b,playerApi:S,playerDisplayOptions:v,playerState:C}),H&&!F&&i.a.createElement(E.a,{imageSrc:w,playerApi:S,playerState:C,withPlayButton:P}),i.a.createElement(o.a,{playerState:C}),t?i.a.createElement(me,{containerRef:l,onSkip:this._handleSkip,playerApi:S,playerState:C}):i.a.createElement(i.a.Fragment,null,!I&&T&&i.a.createElement(ye.a,{onScribeEvent:g,playerApi:S,playerState:C}),i.a.createElement(b.a,{guestsState:y,playerState:C}),!I&&i.a.createElement(A,{focus:!0,interactionKey:oe.a.VideoCTA,mouseover:!0},i.a.createElement(d.a,{show:!_},i.a.createElement(he.a,{playerApi:S,playerState:C}))),!I&&!V&&i.a.createElement(i.a.Fragment,null,i.a.createElement(A,{focus:!0,interactionKey:oe.a.A11YHook},i.a.createElement(M.a,{focusable:!0})),i.a.createElement(A,{focus:!0,interactionKey:oe.a.ControlBar,mouseover:!0,touch:!0},i.a.createElement(p.a,{containerRef:l,customControlBarIcon:c,fullscreenAdsDisabledOnIOS:u,hideControls:_,playerApi:S,playerState:C,publisherDisplayName:null==x?void 0:x.publisherDisplayName,publisherProfileImageUrl:null==x?void 0:x.publisherProfileImageUrl,showScrubber:"ad"!==(null==x?void 0:x.displayType)&&!(null!=x&&x.isLive)}))),i.a.createElement(d.a,{show:j},i.a.createElement(s.a,{mediaAccessibilityLabel:D,playerDisplayOptions:v,playerState:C,position:"left"})),i.a.createElement(d.a,{show:W},i.a.createElement(s.a,{playerDisplayOptions:v,playerState:C,position:"right"})))),i.a.createElement(d.a,{show:O},O&&i.a.createElement(m.a,{imageSrc:w,playerApi:S,playerState:C})))})),r()(this,"_handleSkip",(()=>{const{playerApi:e}=this.props;e&&e.pause(),this.setState({wasPrerollSkipped:!0})})),r()(this,"_handleTransitionAnimationComplete",(()=>{const{playerApi:e}=this.props;e&&e.nextTrack()}))}render(){const{playerApi:e,playerState:t}=this.props;return e&&t?i.a.createElement(y.a,null,i.a.createElement(y.a.Context.Consumer,null,this._renderVideoPlayer)):null}}t.default=fe},ReFq:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a("KEM+"),r=a.n(n),l=a("ERkP"),i=a.n(l),s=a("/yvb"),o=a("3XMw"),c=a.n(o),u=a("rHpw"),p=a("MWbm");const m=c.a.f2d4e6f1;class d extends i.a.PureComponent{constructor(...e){super(...e),r()(this,"_createWatchAgainHandler",(e=>t=>{const{onScribeEvent:a,playerApi:n}=this.props;t.stopPropagation(),a&&a({namespace:{element:e,action:"click"}}),n&&n.replay()})),r()(this,"_handleOnPress",this._createWatchAgainHandler("watch_again_button")),r()(this,"_handleOnClick",this._createWatchAgainHandler("watch_again_overlay"))}render(){const{playerState:e}=this.props;return e&&e.tracksFinished?i.a.createElement(p.a,{onClick:this._handleOnClick,style:h.overlay},i.a.createElement(s.a,{accessibilityLabel:m,onPress:this._handleOnPress,type:"onMediaDominantColorFilled"},m)):null}}const h=u.a.create((e=>({overlay:{...u.a.absoluteFillObject,backgroundColor:u.a.theme.colors.translucentBlack30,alignItems:"center",justifyContent:"center"}})))},uz49:function(e,t,a){"use strict";var n=a("ERkP"),r=a.n(n),l=a("0W/e"),i=a("3rX5"),s=a("rHpw"),o=a("MWbm");const c={animationStage:"INITIAL",containerSize:null,imageTransform:null},u=(e=c,t)=>{switch(t.type){case"SET_TRANSFORM":if("INITIAL"===e.animationStage){const{aspectRatio:a,containerHeight:n,containerWidth:r}=t.payload,i=Object(l.a)(a),o={width:r,height:n},c={scaleX:i.width/r,scaleY:i.height/n,translateX:-1*s.a.theme.spacesPx.space12,translateY:-1*s.a.theme.spacesPx.space12};return{...e,animationStage:"SET_TRANSFORM",containerSize:o,imageTransform:c}}return e;case"START_ANIMATION":return"SET_TRANSFORM"===e.animationStage?{...e,animationStage:"START_ANIMATION",imageTransform:{scaleX:1,scaleY:1,translateX:0,translateY:0}}:e;case"FINISH_ANIMATION":return{...e,animationStage:"FINISH_ANIMATION"};default:return e}};const p={imageFill:{width:"100%",height:"100%"},imageWrapperBaseStyles:{transitionDuration:"250ms",transformOrigin:"bottom right",transitionProperty:"transform",transitionTimingFunction:"ease",position:"absolute",bottom:"0",right:"0"}};t.a=function({aspectRatio:e,imageSrc:t,onTransitionComplete:a}){const[n,l]=r.a.useReducer(u,c),{animationStage:m,containerSize:d,imageTransform:h}=n,b=r.a.useCallback((t=>{if(null!=t){const{height:a,width:n}=t.getBoundingClientRect();requestAnimationFrame((()=>{l({type:"SET_TRANSFORM",payload:{aspectRatio:e,containerHeight:a,containerWidth:n}})}))}}),[e]),y=r.a.useCallback((e=>{requestAnimationFrame((()=>{l({type:"START_ANIMATION"})}))}),[]),f=r.a.useCallback((()=>{l({type:"FINISH_ANIMATION"})}),[]);return r.a.useEffect((()=>{t||f()}),[t,f]),r.a.useEffect((()=>{"FINISH_ANIMATION"===m&&a&&a()}),[a,m]),r.a.useEffect((()=>{if("START_ANIMATION"===m){const e=setTimeout((()=>{f()}),300);return function(){clearTimeout(e)}}}),[m,f]),r.a.createElement(o.a,{ref:b,style:s.a.absoluteFill},(()=>{if(null==d||null==h||!t)return null;const e={height:d.height,width:d.width},{scaleX:a,scaleY:n,translateX:l,translateY:s}=h,o={transform:`matrix(${a}, 0, 0, ${n}, ${l}, ${s})`},c={...p.imageWrapperBaseStyles,...e,...o};return r.a.createElement("div",{onTransitionEnd:f,style:c},r.a.createElement(i.a,{ref:y,source:t,style:p.imageFill}))})())}},zCLo:function(e,t,a){"use strict";var n=a("ERkP"),r=a.n(n),l=a("wD1h"),i=a("oLZl"),s=a("rHpw"),o=a("MWbm");t.a=function(e){const t=r.a.useRef(null),{enabled:a,playerApi:n,playerState:c}=e;if(!a)return e.children||null;const u=e=>{n&&c&&(c.isPlaying?n.pause():n.play())},p=e=>{if(n&&c){const t=parseInt(e.key,10)/10;n.scrubToFraction(t)}};return r.a.createElement(l.a,{containerRef:t,enabled:!0,handlers:{[i.a.K]:u,[i.a.M]:e=>{n&&c&&(c.isMuted?n.unmute():n.mute())},[i.a.Space]:u,[i.a.C]:e=>{n&&c&&n.toggleCaptions()},[i.a.Home]:e=>{n&&c&&n.scrubToFraction(0)},[i.a[0]]:p,[i.a[1]]:p,[i.a[2]]:p,[i.a[3]]:p,[i.a[4]]:p,[i.a[5]]:p,[i.a[6]]:p,[i.a[7]]:p,[i.a[8]]:p,[i.a[9]]:p,[i.a.End]:e=>{n&&c&&n.scrubToFraction(1)}}},r.a.createElement(o.a,{focusable:!0,ref:t,style:s.a.absoluteFill},e.children))}}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/loaders.video.VideoPlayerDefaultUI.982f2c05.js.map