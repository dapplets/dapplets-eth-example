(window.webpackJsonp=window.webpackJsonp||[]).push([[179],{"0kTQ":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("k49u"),r=n("LVU8"),s=n("3XMw");const c=n.n(s).a.b20a3893,i={[a.a.AppInReadOnlyMode]:{customAction:r.b},[a.a.TargetUserNotFound]:{toast:{text:c}},showToast:!0}},"55jz":function(e,t,n){"use strict";var a=n("KEM+"),r=n.n(a),s=n("ERkP"),c=n.n(s),i=n("k49u"),o=n("3XMw"),l=n.n(o),d=n("IMYl"),u=n("fs1G"),h=n("MWbm"),p=n("Irs7"),m=n("OOKO"),g=n("CKsB"),_=n("t62R"),E=n("IMA+"),w=n("Znyr"),b=n("G1WX"),A=n("rHpw");const C=l.a.d86bbf0f,S=l.a.h6beb5fa,I=l.a.b7dc3884;class y extends c.a.Component{constructor(...e){super(...e),r()(this,"_renderAdditionalMenuItems",(()=>(this.props.additionalMenuItems||[]).map(((e,t)=>c.a.createElement(c.a.Fragment,{key:t},0===t?c.a.createElement(m.a,null):null,c.a.createElement(g.a,{Icon:e.Icon,actionText:e.actionText,isSelected:e.isSelected,link:e.link,onClick:this._handleMenuItemClick(e.scribeElement,e.onClick),selectable:!0,testID:e.testID})))))),r()(this,"_renderTitle",(()=>{const{title:e}=this.props;return e?c.a.createElement(_.b,{size:"headline1",style:f.title,weight:"bold"},e):null})),r()(this,"_renderUserAccounts",(()=>{const{accountUsers:e,activeUser:t,withBadges:n=!1}=this.props;return e.filter((e=>e.user_id!==(null==t?void 0:t.id_str))).length>0?c.a.createElement(c.a.Fragment,null,e.map((e=>{const a=e.user_id===t.id_str,r=e.badgeCount;return c.a.createElement(E.a,{accessibilityLabel:a?void 0:I({screenName:e.screen_name}),avatarUri:e.avatar_image_url,decoration:this._renderUserDecoration({badgeCount:r,withBadges:n,isActiveUser:a}),displayMode:"UserCompact",isProtected:e.is_protected,isVerified:e.is_verified,key:e.user_id,name:e.name,onCellClick:a?void 0:this._handleMultiAccountSwitch({hasBadge:!!r,isProtected:e.is_protected,userId:e.user_id}),screenName:e.screen_name,userId:e.user_id,withLink:!1})}))):c.a.createElement(E.a,{avatarUri:t.profile_image_url_https,decoration:this._renderUserDecoration({withBadges:n,isActiveUser:!0}),displayMode:"UserCompact",isProtected:t.protected,isVerified:t.verified,name:t.name,screenName:t.screen_name,userId:t.id_str,withLink:!1})})),r()(this,"_renderUserDecoration",(({badgeCount:e,isActiveUser:t,withBadges:n})=>t?c.a.createElement(d.a,{style:[f.iconCheckMark,f.userDecoration]}):e&&n?c.a.createElement(w.a,{count:e,standalone:!0,style:f.userDecoration,truncatedCountFormatter:S,unreadCountLabel:C}):void 0)),r()(this,"_handleMultiAccountSwitch",(({hasBadge:e,isProtected:t,userId:n})=>()=>{const{accountSwitch:a,onClose:r}=this.props;a({hasBadge:e,isProtected:t,userId:n}),r()})),r()(this,"_handleFetch",(()=>{const{createLocalApiErrorHandlerAccountsFetch:e,fetchAccounts:t}=this.props;t().catch(e({[i.a.AppInReadOnlyMode]:{customAction:u.a}}))})),r()(this,"_handleMenuItemClick",((e,t)=>()=>{const{analytics:n,onClose:a}=this.props;e&&n.scribe({element:e,action:"click"}),null==t||t(),a()}))}render(){const{fetchStatus:e,shouldDisplayFetchRenderer:t}=this.props;return c.a.createElement(h.a,{style:f.menuContainer},this._renderTitle(),t?c.a.createElement(b.a,{fetchStatus:e,onRequestRetry:this._handleFetch,render:this._renderUserAccounts}):this._renderUserAccounts(),this._renderAdditionalMenuItems())}}const f=A.a.create((e=>({iconCheckMark:{color:e.colors.primary,flexShrink:0},menuContainer:{paddingVertical:e.spaces.space12},userDecoration:{marginLeft:e.spaces.space12},title:{paddingBottom:e.componentDimensions.gutterVertical,paddingHorizontal:e.componentDimensions.gutterHorizontal}})));t.a=Object(p.a)(y)},LzTg:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return z}));var a=n("KEM+"),r=n.n(a),s=n("ERkP"),c=n.n(s),i=n("qtu+"),o=n("G6rE"),l=n("rxPX"),d=n("0KEI"),u=n("auX9"),h=n("kGix");var p=Object(l.a)().propsFromState((()=>({fetchStatus:u.g,loggedInUser:o.e.selectLoggedInUser,multiAccountUsers:u.j,hasMultiAccountBadges:u.h}))).propsFromActions((()=>({createLocalApiErrorHandlerAccountSwitch:Object(d.createLocalApiErrorHandlerWithContextFactory)("ACCOUNT_SWITCHER_ACCOUNT_SWITCH"),createLocalApiErrorHandlerMultiListFetch:Object(d.createLocalApiErrorHandlerWithContextFactory)("ACCOUNT_SWITCHER_MULTI_LIST_FETCH"),fetchMultiAccountList:u.c,switchAccount:i.a}))).adjustStateProps((({fetchStatus:e,hasMultiAccountBadges:t,loggedInUser:n,multiAccountUsers:a})=>({fetchStatus:e===h.a.NONE?h.a.LOADING:e,hasMultiAccountBadges:!!n&&t,loggedInUser:n,multiAccountUsers:a}))).withAnalytics({page:"nav",section:"account_switcher"}),m=n("3Wr5"),g=n("55jz"),_=n("0kTQ"),E="SideNav_AccountSwitcher_Button",w="AccountSwitcher_AddAccount_Button",b="AccountSwitcher_Logout_Button",A="AccountSwitcher_ManageAccounts_Button",C=n("yrzJ"),S=n("y8wG"),I=n("v6aA"),y=n("3XMw"),f=n.n(y);const M=f.a.j0a8da6e,T=f.a.c6f2bf00;class U extends c.a.Component{constructor(...e){super(...e),r()(this,"_renderMenuSheet",(e=>{const{createLocalApiErrorHandlerMultiListFetch:t,fetchMultiAccountList:n,fetchStatus:a,loggedInUser:r,multiAccountUsers:s}=this.props;return r?c.a.createElement(g.a,{accountSwitch:this._multiAccountSwitch,accountUsers:s,activeUser:r,additionalMenuItems:this._getAdditionalAccountMenuItems(),createLocalApiErrorHandlerAccountsFetch:t,fetchAccounts:n,fetchStatus:a,onClose:e,shouldDisplayFetchRenderer:this._hasMultiAccountCookie(),withBadges:!0}):null})),r()(this,"_multiAccountSwitch",(({hasBadge:e,isProtected:t,userId:n})=>{const{analytics:a,createLocalApiErrorHandlerAccountSwitch:r,switchAccount:s}=this.props;a.scribe({component:t?"switch_to_protected_account":"switch_account",element:e?"account_badged":"account",action:"click"}),s({user_id:n}).catch(r(_.a))})),r()(this,"_getAdditionalAccountMenuItems",(()=>{const{loggedInUser:e,multiAccountUsers:t}=this.props,n=t.length>1,a=[];var r;return t.length>=5||a.push({actionText:M,link:this.context.featureSwitches.isTrue("stateful_login_enabled")?"/i/flow/login":"/account/add",scribeElement:"add_existing_account",testID:w}),n&&a.push({actionText:T,link:"/account/switch",scribeElement:"manage_accounts",testID:A}),e&&a.push({actionText:(r=e.screen_name,c.a.createElement(f.a.I18NFormatMessage,{$i18n:"i9bec47a"},c.a.createElement(C.a,{color:"normal",screenName:r}))),link:"/logout",scribeElement:"log_out",testID:b}),a})),r()(this,"_handleAccountSwitcherClick",(()=>{const{analytics:e}=this.props;e.scribe({action:"click"})})),r()(this,"_hasMultiAccountCookie",(()=>{const{hasMultiAccountCookie:e}=Object(m.a)();return e}))}render(){const{analytics:e,hasMultiAccountBadges:t,isExpanded:n,loggedInUser:a}=this.props;return c.a.createElement(S.a,{analytics:e,currentUser:a,hasMultiAccountBadges:t,interactiveViewTestId:E,isExpanded:n,renderMenuSheet:this._renderMenuSheet})}}r()(U,"contextType",I.a);var x=p(U),k=n("1eTX"),v=n("jwTb"),B=n("Irs7"),L=n("eqgg");const H=f.a.g34f2c63({verb:""});class F extends c.a.Component{constructor(...e){super(...e),r()(this,"_handlePress",(e=>{const{analytics:t}=this.props;t.scribe({component:"new_tweet_button",action:"click"})}))}render(){const{composeOptions:e,isExpanded:t,testID:n}=this.props;return c.a.createElement(L.a,{icon:N,isExpanded:t,label:H,link:{pathname:"/compose/tweet",state:e},onPress:this._handlePress,testID:n})}}const N=c.a.createElement(v.a,null);var O=Object(B.a)(F),P=n("N5qz"),D="SideNav_NewTweet_Button",R=n("MWbm"),W=n("cHvH"),j=n("rHpw");class z extends c.a.Component{render(){const{SideNavButton:e,TabBar:t,TeamsSwitcher:n,history:a,isCollapsedSmall:r,isExpanded:s,isLoggedIn:i,isTwoColumn:o,location:l,logoButton:d,onTabRefresh:u,widthStyle:h,withTweetButton:p}=this.props,m=[V.root,h,r?V.rootPaddingSmall:V.rootPaddingNormal],g=d||c.a.createElement(k.a,{onClick:u,pullLeft:!1,size:"large"});return c.a.createElement(W.a,null,(({windowHeight:r})=>c.a.createElement(R.a,{style:m},c.a.createElement(R.a,{style:[V.topSection,!s&&V.alignItemsCenter]},c.a.createElement(R.a,{style:V.topControl},g),c.a.createElement(R.a,{style:[V.appTabBar,!s&&V.alignItemsCenter]},c.a.createElement(t,{history:a,layout:"vertical",location:l,onTabRefresh:u,wideMode:o,withExtendedItems:!0,withLabel:s})),i&&(e||p)?this._renderButton(r):null),i?c.a.createElement(R.a,{style:[V.footerContainer,!s&&V.alignItemsCenter]},c.a.createElement(x,{isExpanded:s}),n?c.a.createElement(n,{isExpanded:s}):null):null)))}_renderButton(e){const{SideNavButton:t,composeOptions:n,isExpanded:a}=this.props;return c.a.createElement(R.a,{style:[V.button,!a&&V.alignItemsCenter,"tall"===P.a.getHeightMode(e)&&V.withTallHeight]},t?c.a.createElement(t,{isExpanded:a}):c.a.createElement(O,{composeOptions:n,isExpanded:a,testID:D}))}}r()(z,"defaultProps",{withTweetButton:!0});const V=j.a.create((e=>({root:{height:"100%",overflowY:"auto",justifyContent:"space-between"},rootPaddingNormal:{paddingHorizontal:e.spaces.space12},rootPaddingSmall:{paddingHorizontal:e.spaces.space4},topSection:{alignItems:"flex-start"},topControl:{paddingVertical:e.spaces.space2,maxWidth:"100%"},appTabBar:{marginBottom:e.spaces.space4,marginTop:e.spaces.space2,width:"100%"},button:{marginVertical:e.spaces.space4,width:"90%"},withTallHeight:{marginVertical:e.spaces.space16},alignItemsCenter:{alignItems:"center"},settingsButton:{marginBottom:e.spaces.space20,marginHorizontal:e.spaces.space4},footerContainer:{marginVertical:e.spaces.space12}})))},"qtu+":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("4+NY"),r=n("oEOe"),s=n("5oBF");const c={REQUEST:"rweb/multiAccount/SWITCH_REQUEST",SUCCESS:"rweb/multiAccount/SWITCH_SUCCESS",FAILURE:"rweb/multiAccount/SWITCH_FAILURE"},i=e=>(t,n,{api:i})=>{const o=Object(r.b)(t,{request:i.Auth.switch,params:e});return t(Object(s.f)()).then((()=>t(Object(a.b)()).then((()=>o({actionTypes:c,context:"SWITCH"}).then((()=>{window.location.assign("/home")}))))))}},y8wG:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var a=n("KEM+"),r=n.n(a),s=n("ERkP"),c=n.n(s),i=n("ZUOq"),o=n("3XMw"),l=n.n(o),d=n("ACHU"),u=n("aWzz"),h=n("MWbm"),p=n("I4+6"),m=n("rHpw"),g=n("XP29"),_=n("jV+4"),E=n("Znyr"),w=n("OiMc"),b=n("cm6r");const A=l.a.d86bbf0f,C=l.a.h6beb5fa,S=l.a.b8e1d524,I=l.a.gef27c4c;class y extends c.a.Component{constructor(...e){super(...e),r()(this,"_renderUser",(e=>{const{isExpanded:t}=this.props,{name:n,profile_image_url_https:a,protected:r,screen_name:s,verified:i}=e;return c.a.createElement(c.a.Fragment,null,c.a.createElement(h.a,null,c.a.createElement(g.a,{accessibilityLabel:n,screenName:s,size:"xLarge",uri:a}),t?null:this._renderBadge()),t?c.a.createElement(c.a.Fragment,null,c.a.createElement(_.a,{isProtected:r,isVerified:i,name:n,screenName:s,style:f.userName,withStackedLayout:!0}),c.a.createElement(h.a,{style:f.iconContainer},c.a.createElement(d.a,{style:f.icon}),t?this._renderBadge():null)):null)})),r()(this,"_renderEmptyState",(()=>{const{renderEmptyState:e}=this.props;return e?c.a.createElement(h.a,{style:f.emptyStateWrapper},e()):null})),r()(this,"_renderBadge",(()=>{const{hasMultiAccountBadges:e,isExpanded:t}=this.props;return e?c.a.createElement(E.a,{pip:!0,style:t&&f.pip,truncatedCountFormatter:C,unreadCountLabel:A}):null})),r()(this,"_handleAccountSwitcherClick",(()=>{const{analytics:e}=this.props;e.scribe({action:"click"})}))}render(){const{accessibilityLabel:e,currentUser:t,hoverLabel:n,interactiveViewTestId:a,isExpanded:r,renderEmptyState:s,renderMenuSheet:i}=this.props;return t||s?c.a.createElement(w.a,{contentStyle:f.menuContainer,enableEnterKeyToggle:!0,renderContent:i,withArrow:!0,withFixedPosition:!0},c.a.createElement(b.a,{accessibilityLabel:e||I,accessibilityRole:"button",hoverLabel:r?void 0:{label:n||S},interactiveStyles:p.a.generate({backgroundColor:"transparent",color:m.a.theme.colors.text}),onClick:this._handleAccountSwitcherClick,style:f.anchorContainer,testID:a},t?this._renderUser(t):this._renderEmptyState())):null}}r()(y,"contextTypes",{featureSwitches:u.object});const f=m.a.create((e=>({anchorContainer:{alignItems:"center",borderRadius:e.borderRadii.infinite,display:"flex",flexDirection:"row",padding:e.spaces.space12},icon:{color:e.colors.text},iconContainer:{alignItems:"flex-end",flexGrow:1},pip:{position:"absolute",right:`calc(-1 * ${e.spaces.space4})`,top:`calc(-1 * ${e.spaces.space4})`},userName:{flexGrow:1,marginHorizontal:e.spaces.space12},menuContainer:{width:i.a.cardWidth.normal},emptyStateWrapper:{height:e.spaces.space40,minWidth:e.spaces.space40,width:"100%"}})))}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/loader.SideNav.228c4885.js.map