(window.webpackJsonp=window.webpackJsonp||[]).push([[348],{UnyZ:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));const o=Object.freeze({Active:"active",Expand:"expand",Remove:"remove"})},YMZp:function(e,t,a){"use strict";a.r(t);var o=a("uqhH"),n=a("fRsM"),i=a("XcJG");const c=e=>({saveAsRecentSearch:e.actions.saveAsRecentSearch,shouldStoreTypeaheadItem:e.shouldStoreTypeaheadItem,withIcon:e.entry.content.topicDisplayType===i.a.Basic});t.default=({shouldStoreTypeaheadItem:e})=>Object(o.a)({component:n.a,getDisplayTypeSpecificProps:c,shouldStoreTypeaheadItem:e})},"aV/s":function(e,t,a){"use strict";var o=a("KEM+"),n=a.n(o),i=a("ERkP"),c=a.n(i),r=a("t62R"),s=a("3XMw"),l=a.n(s),d=a("I4+6"),p=a("cm6r"),h=a("UnyZ"),m=a("rHpw"),u=a("MWbm"),y=a("hOZg"),b=a("iY63"),I=a("IMYl");const f={active:l.a.e557ad8d,expand:l.a.e3a58c27,remove:l.a.h517e8d8};class g extends c.a.PureComponent{constructor(...e){super(...e),n()(this,"_handleSecondaryClick",(()=>{const{secondaryAction:e}=this.props;e&&e.onSecondaryClick()}))}render(){const{accessibilityLabel:e,avatar:t,compact:a,disabled:o,link:n,mode:i,onClick:s,secondaryAction:l,selected:h,style:y,text:b}=this.props,I=this._renderIcon(!0,i),g=l&&this._renderIcon(!1,l.mode),v=[w.root,a&&w.compact,o&&w.disabled,h&&w.selected,y],k=[w.content,I&&w.withIcon,t&&(a&&w.withAvatarImageCompact||w.withAvatarImage)],C=d.a.generate({backgroundColor:h?m.a.theme.colors.primary:"transparent",color:h?m.a.theme.colors.white:m.a.theme.colors.primary});return c.a.createElement(u.a,{style:v},c.a.createElement(p.a,{accessibilityLabel:e||(i?f[i]:""),disabled:o,interactiveStyles:C,link:n,onPress:s,style:k},this._renderAvatar(),c.a.createElement(r.b,{color:h?"whiteOnColor":"normal",numberOfLines:1,selectable:!1,style:w.text,weight:"bold"},b),I),l?c.a.createElement(p.a,{accessibilityLabel:l.accessibilityLabel||(l.mode?f[l.mode]:""),disabled:o||l.disabled,hoverLabel:{label:l.hoverLabel||(l.mode?f[l.mode]:"")},interactiveStyles:C,onPress:this._handleSecondaryClick,style:w.secondaryControl},c.a.createElement(u.a,{style:w.secondaryBorder},g)):null)}_renderIcon(e=!0,t){const{selected:a}=this.props,o=[w.icon,a&&w.iconSelected],n=[w.icon];switch(t){case h.a.Remove:return c.a.createElement(y.a,{style:[w.dismissIcon,e&&o]});case h.a.Expand:return c.a.createElement(b.a,{style:e?o:n});case h.a.Active:return c.a.createElement(I.a,{style:o});default:return null}}_renderAvatar(){const{avatar:e,compact:t}=this.props;return e?c.a.createElement(u.a,{style:[w.avatarContainer,t?w.avatarCompact:w.avatar]},e):null}}n()(g,"defaultProps",{compact:!1,disabled:!1,selected:!1});const w=m.a.create((e=>({root:{backgroundColor:e.colors.cellBackground,borderColor:e.colors.gray200,borderRadius:e.borderRadii.infinite,borderStyle:"solid",borderWidth:"1px",flexDirection:"row",minHeight:e.spaces.space40,overflow:"hidden"},content:{alignItems:"center",flexDirection:"row",flexGrow:1,flexShrink:1,paddingHorizontal:e.spaces.space16},text:{width:"100%"},compact:{minHeight:e.spaces.space32},disabled:{borderColor:e.colors.gray50},selected:{backgroundColor:e.colors.primary,borderColor:e.colors.primary},avatar:{height:e.spaces.space32,width:e.spaces.space32},avatarCompact:{height:e.spaces.space24,width:e.spaces.space24},avatarContainer:{justifyContent:"center",marginRight:e.spaces.space8},withAvatarImage:{paddingLeft:`calc(${e.spaces.space2} * 2)`},withAvatarImageCompact:{paddingLeft:`calc(${e.spaces.space1} * 3)`},icon:{color:e.colors.primary,flexShrink:0,marginLeft:e.spaces.space12},iconSelected:{color:e.colors.whiteOnColor},withIcon:{paddingRight:e.spaces.space12},dismissIcon:{color:e.colors.gray300},secondaryControl:{flexShrink:0,justifyContent:"center"},secondaryBorder:{borderLeftColor:e.colors.borderColor,borderLeftWidth:e.borderWidths.small,paddingHorizontal:e.spaces.space12}})));t.a=g},fRsM:function(e,t,a){"use strict";var o=a("KEM+"),n=a.n(o),i=a("ERkP"),c=a.n(i),r=a("LWCC"),s=a("3XMw"),l=a.n(s),d=a("EHV7"),p=a("YICZ"),h=a("3IPs"),m=a("X04g"),u=a("MWbm"),y=a("Irs7"),b=a("hxu0"),I=a("htQn"),f=a("t62R"),g=a("j7Bv"),w=a("rHpw"),v=a("v6aA");const k=l.a.a2a3824a;let C=0;class E extends c.a.Component{constructor(e,t){super(e,t),n()(this,"_topicLink",{pathname:`/i/topics/${this.props.topic.id}`,state:{referringScribeNamespace:{...this.props.analytics.contextualScribeNamespace,action:"click"}}}),n()(this,"_handleOnClick",(()=>{const{saveAsRecentSearch:e,shouldStoreTypeaheadItem:t,topic:{description:a,id:o,name:n}}=this.props;e&&t&&t(m.a.ItemType.TOPIC)&&e({topic:{id:o,name:n,description:a||"",type:h.a.Topic}}),this._handleScribe("click")})),this._topicDomId=`topic${C}`,this._nameDomId=`topic-name${C}`,this._descriptionDomId=`topic-description${C}`,this._followButtonDomId=`topic-follow-button${C}`,this._notInterestedButtonDomId=`topic-not-interested-button${C}`,C+=1}render(){const{educateOnFollow:e,isInSidebar:t,nameWeight:a,notInterestedOnClick:o,topic:n}=this.props,{description:i,name:s}=n,{loggedInUserId:l}=this.context;return c.a.createElement(I.a,{accessibilityLabelledBy:[this._topicDomId,this._nameDomId,this._descriptionDomId,this._followButtonDomId,this._notInterestedButtonDomId].join(" "),interactiveStyles:this._topicLink?void 0:null,link:this._topicLink,onClick:this._topicLink?this._handleOnClick:void 0,style:[x.root,x.flexStart],withDarkerInteractiveBackground:t},c.a.createElement(u.a,{style:x.topic},c.a.createElement(u.a,{accessibilityLabel:k,nativeID:this._topicDomId}),this._renderIcon(),c.a.createElement(u.a,{style:x.text},c.a.createElement(f.b,{nativeID:this._nameDomId,weight:a,withInteractiveStyling:!!this._topicLink},s),i?c.a.createElement(f.b,{color:"gray700",nativeID:this._descriptionDomId,numberOfLines:2},i):null)),c.a.createElement(u.a,{style:x.buttons},c.a.createElement(r.a,{educateOnFollow:e,nativeID:this._followButtonDomId,topic:n}),l&&o?c.a.createElement(p.a,{nativeID:this._notInterestedButtonDomId,onPress:o,style:x.marginLeft,topicId:n.id}):null))}_renderIcon(){const{withIcon:e}=this.props;return e?c.a.createElement(g.a,{Icon:d.a,size:"large",style:x.icon}):null}_handleScribe(e){const{analytics:t}=this.props;t.scribeAction(e)}}n()(E,"contextType",v.a),n()(E,"defaultProps",{nameWeight:"bold",withIcon:!0});const x=w.a.create((e=>({root:{flexDirection:"row",justifyContent:"space-between",paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.componentDimensions.gutterVertical},flexStart:{alignItems:"flex-start"},icon:{alignSelf:"flex-start",marginRight:e.spaces.space12},customIcon:{borderRadius:e.borderRadii.infinite,height:e.spaces.space32,width:e.spaces.space32},text:{flexShrink:1},buttons:{alignItems:"center",alignSelf:"center",flexDirection:"row",paddingLeft:e.spaces.space8},marginLeft:{marginLeft:e.spaces.space4},topic:{alignItems:"center",flexDirection:"row",flexShrink:1,paddingRight:e.spaces.space4}})));t.a=Object(b.a)(Object(y.a)(E))},gwY8:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var o=a("ERkP");const n=a.n(o).a.createContext({onFollow:void 0,onInitialize:void 0,onUnfollow:void 0})},hxu0:function(e,t,a){"use strict";var o=a("97Jx"),n=a.n(o),i=a("ERkP"),c=a.n(i),r=a("vqbU");t.a=e=>t=>c.a.createElement(r.a.Consumer,null,(a=>c.a.createElement(e,n()({},t,{isInSidebar:a}))))},iY63:function(e,t,a){"use strict";var o=a("ERkP"),n=a.n(o),i=a("Lsrn"),c=a("k/Ka");const r=(e={})=>Object(c.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[i.a.root,e.style],viewBox:"0 0 24 24"},n.a.createElement("g",null,n.a.createElement("path",{d:"M19.75 11H13V4.25c0-.553-.447-1-1-1s-1 .447-1 1V11H4.25c-.553 0-1 .447-1 1s.447 1 1 1H11v6.75c0 .553.447 1 1 1s1-.447 1-1V13h6.75c.553 0 1-.447 1-1s-.447-1-1-1z"})));r.metadata={width:24,height:24},t.a=r},uqhH:function(e,t,a){"use strict";var o=a("ezF+"),n=a("wtjx"),i=a("VPAj"),c=a("zh9S"),r=a("Rp9C"),s=a("XcJG"),l=a("Zejx");t.a=({component:e,getDisplayTypeSpecificProps:t,shouldDisplayBorder:a=!1,shouldStoreTypeaheadItem:d})=>o.g({component:e,bindActions:()=>({saveAsRecentSearch:n.a,scribe:c.c}),selectData:({entry:e})=>({topic:t=>l.a.select(t,e.content.topicId)}),createProps:({actions:e,data:a,entry:o,feedbackItems:n})=>{const{topic:i}=a;if(!i)return null;const{content:c}=o,r=c.topicFunctionalityType===s.b.Recommendation,l=1===n.length?n[0].onClick:void 0;return{notInterestedOnClick:!i.not_interested&&!i.following&&r&&!!l?l:void 0,topic:i,...t({entry:o,actions:e,shouldStoreTypeaheadItem:d})}},isFocusable:Object(i.a)(!0),getScribeDataItem:e=>r.a.forTopic(e.content.topicId,e.itemMetadata.clientEventInfo),onImpression:({actions:{scribe:e},scribeData:t,scribeNamespace:a})=>{e({...a,action:"impression"},t)},shouldDisplayBorder:Object(i.a)(a)})},zWr2:function(e,t,a){"use strict";a.r(t);var o=a("uqhH"),n=a("ERkP"),i=a.n(n),c=a("v6aA"),r=a("Zejx"),s=a("rxPX"),l=a("0KEI");var d=Object(s.a)().propsFromActions((()=>({createLocalApiErrorHandler:Object(l.createLocalApiErrorHandlerWithContextFactory)("TOPIC_PILL_CONTEXT"),follow:r.a.follow,unfollow:r.a.unfollow}))).withAnalytics(),p=a("3XMw"),h=a.n(p),m=a("Tp1h"),u=a("Jkc4"),y=a("gwY8"),b=a("MWbm"),I=a("UnyZ"),f=a("aV/s"),g=a("rHpw");const w=h.a.ge8f3043,v=h.a.aa576cbf,k=h.a.i77347d0,C=h.a.e839db39,E=e=>{const{loggedInUserId:t}=i.a.useContext(c.a),{analytics:a,createLocalApiErrorHandler:o,follow:n,notInterestedOnClick:r,topic:s,unfollow:l,withActionIcon:d}=e,{following:p,id:h,name:g,not_interested:E}=s,L=i.a.useRef(!1),[S,D]=i.a.useState(0),_=i.a.useCallback((e=>{if(0===S){const{nativeEvent:{layout:{width:t}}}=e;D(t)}}),[S]),A=e=>{if(!E&&d)return p?I.a.Active:I.a.Expand},P=(e,t,a)=>e(p?O(a):R(t)),R=e=>t=>{n(h).catch(o()).then(e&&e(h)),a.scribeAction("follow")},O=e=>t=>{l(h).catch(o()).then(e&&e(h)),a.scribeAction("unfollow")},T=(e,a,o)=>{if(t&&r)return{mode:I.a.Remove,onSecondaryClick:r,accessibilityLabel:k({topicName:g}),hoverLabel:C,disabled:p||E}};return i.a.createElement(u.a,{customText:g,displayMode:m.a.topic},(e=>i.a.createElement(y.a.Consumer,null,(({onFollow:t,onInitialize:a,onUnfollow:o})=>(a&&!L.current&&(a(h,p),L.current=!0),i.a.createElement(b.a,{onLayout:_,style:[x.root,{minWidth:S}]},i.a.createElement(f.a,{accessibilityLabel:p?v({topicName:g}):w({topicName:g}),disabled:E,key:h,mode:A(),onClick:P(e,t,o),secondaryAction:T(),selected:p,style:x.pill,text:g})))))))};E.defaultProps={withActionIcon:!0};const x=g.a.create((e=>({root:{marginHorizontal:e.spaces.space4,marginVertical:e.spaces.space4},pill:{textOverflow:"ellipsis"},roundIcon:{borderRadius:e.borderRadii.infinite,height:"100%",width:"100%"}})));var L=d(E),S=a("Irs7"),D=a("lnL+");const _=e=>{const t=Object(S.b)(),{notInterestedOnClick:a,topic:o,withActionIcon:n,withLandingPageLink:c}=e;return c?i.a.createElement(b.a,{style:A.root},i.a.createElement(D.a,{link:`/i/topics/${o.id}`,onClick:()=>{t.scribeAction("click")},text:o.name})):i.a.createElement(L,{notInterestedOnClick:a,topic:o,withActionIcon:n})},A=g.a.create((e=>({root:{marginHorizontal:e.spaces.space4,marginVertical:e.spaces.space4}})));_.defaultProps={withLandingPageLink:!1};var P=_,R=a("XcJG");const O=e=>({withLandingPageLink:e.entry.content.topicFunctionalityType===R.b.Pivot,withActionIcon:e.entry.content.topicFunctionalityType!==R.b.Pivot&&e.entry.content.topicDisplayType!==R.a.PillWithoutActionIcon});t.default=({shouldDisplayBorder:e})=>Object(o.a)({component:P,getDisplayTypeSpecificProps:O,shouldDisplayBorder:e})}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/ondemand.topicHandler.175e7c25.js.map