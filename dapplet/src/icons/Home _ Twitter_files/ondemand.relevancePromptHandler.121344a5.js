(window.webpackJsonp=window.webpackJsonp||[]).push([[346],{"3ukl":function(e,t,n){"use strict";n.r(t);var a=n("ezF+"),o=n("EIk2"),r=n("ERkP"),i=n.n(r),l=n("IMYl"),c=n("hOZg");const s=e=>"IconCheckmark"===e?i.a.createElement(l.a,null):"IconClose"===e?i.a.createElement(c.a,null):void 0,p=Object.freeze({Compact:"Compact",Normal:"Normal",Large:"Large",ThumbsUpAndDown:"ThumbsUpAndDown"});var m=n("Irs7"),d=n("MWbm"),b=n("PbQQ"),u=n("/yvb"),y=n("t62R");const v=n("rHpw").a.create((e=>({button:{margin:"1ex"},buttonContainer:{display:"grid",gridTemplateColumns:"repeat(2,1fr)"},secondHalf:{width:"50%",display:"grid",justifyContent:"end"},firstHalf:{width:"50%",flexDirection:"column",justifyContent:"center"},root:{flexDirection:"row",justifyContent:"space-between"},promptContainer:{paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.componentDimensions.gutterVertical,borderBottomColor:e.colors.borderColor,borderBottomStyle:"solid",borderBottomWidth:e.borderWidths.small},survey:{display:"flex",borderRadius:e.spaces.space8,padding:e.spaces.space12,backgroundColor:e.colors.orange0,alignItems:"center",minHeight:e.spaces.space64},icon:{marginLeft:e.spaces.space12}})));var C=e=>{const{confirmation:t,displayType:n,isRelevantIcon:a,isRelevantOnClick:o,isRelevantText:r,notRelevantIcon:l,notRelevantOnClick:c,notRelevantText:C,onIsRelevant:R,showConfirmation:f,title:E}=e,I=Object(m.b)(),g=n===p.ThumbsUpAndDown,h=g,k=b.b.useOpaqueIdentifier(),w=()=>{I.scribe({element:"is_relevant",action:"click"}),R&&R(),o()},T=()=>{I.scribe({element:"not_relevant",action:"click"}),c()},x=(e,t,n)=>i.a.createElement(u.a,{accessibilityLabel:t,icon:n?s(n):void 0,onPress:e,size:n?"medium":"xSmall",style:n?v.icon:v.button,type:g?"primaryOutlined":"brandFilled"},n?null:t);return i.a.createElement(d.a,{accessibilityLabelledBy:k,accessibilityRole:"group",style:v.promptContainer},f?i.a.createElement(d.a,{accessibilityRole:"alert"},i.a.createElement(y.b,{style:g&&v.survey},t)):i.a.createElement(d.a,{style:[v.root,g&&v.survey]},i.a.createElement(d.a,{style:v.firstHalf},i.a.createElement(y.b,{nativeID:k},E)),i.a.createElement(d.a,{style:v.secondHalf},i.a.createElement(d.a,{style:v.buttonContainer},h?i.a.createElement(i.a.Fragment,null,x(w,r,a),x(T,C,l)):i.a.createElement(i.a.Fragment,null,x(T,C,l),x(w,r,a))))))},R=n("zh9S"),f=n("Rp9C"),E=n("pbku"),I=n("0KEI");const g=(e,t)=>{if(e&&e===p.ThumbsUpAndDown)return t?"IconCheckmark":"IconClose"},h=a.g({component:C,bindActions:({module:e})=>({createLocalApiErrorHandler:Object(I.createLocalApiErrorHandlerWithContextFactory)("RELEVANCE_PROMPT"),scribe:R.c,processCallback:o.a,applyReactionInstructions:e.applyReactionInstructions,updateEntry:e.updateEntry}),createProps:({actions:{applyReactionInstructions:e,createLocalApiErrorHandler:t,processCallback:n,scribe:a,updateEntry:o},entry:r})=>{const{content:i}=r,l=i&&i.relevancePrompt;if(!l)return null;return{onIsRelevant:()=>{e({entry:r,triggerName:E.a.ON_IS_RELEVANT})},title:l.title,confirmation:l.confirmation,isRelevantText:l.isRelevantText,notRelevantText:l.notRelevantText,isRelevantIcon:g(l.displayType,!0),notRelevantIcon:g(l.displayType,!1),isRelevantOnClick:()=>{o(r.entryId,{relevancePrompt:{...l,showConfirmation:!0}}),n(l.isRelevantCallback).catch(t())},notRelevantOnClick:()=>{o(r.entryId,{relevancePrompt:{...l,showConfirmation:!0}}),n(l.notRelevantCallback).catch(t())},displayType:l.displayType,showConfirmation:l.showConfirmation}},getScribeDataItem:e=>f.a.forRelevancePrompt(e.itemMetadata.clientEventInfo),onImpression:({actions:{scribe:e},scribeData:t,scribeNamespace:n})=>{e({...n,element:"relevance_prompt",action:"impression"},t)}});t.default=h}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/ondemand.relevancePromptHandler.121344a5.js.map