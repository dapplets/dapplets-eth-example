(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{"/n9r":function(e,t,a){"use strict";a.r(t);const n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TopicPivot_topic",selections:[{alias:null,args:null,kind:"ScalarField",name:"topic_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],type:"Topic",abstractKey:null,hash:"0572573667f235d11350335060916856"};t.default=n},cOLG:function(e,t,a){"use strict";a.r(t),a.d(t,"HomeTimeline",(function(){return Wt}));var n=a("KEM+"),i=a.n(n),s=a("ERkP"),l=a.n(s),o=a("es0u"),r=a("wM4e"),c=a("kHBp"),d=a("wqZ5"),u=a("rxPX");const m=e=>{const t=Object(d.f)(e);return c.a.selectMany(e,t)||[]};var p=Object(u.a)().propsFromState((()=>({configurationFetchStatus:r.a,pinnedLists:m,selectedTimelineId:r.c,useLatest:r.d}))).propsFromActions((()=>({clearLocalPinnedListStorage:d.a,fetchPins:d.c,updateBehavior:r.e}))).withAnalytics({page:"home"}),h=a("s14A"),_=a("dwig"),g=a("v//M"),b=a("0+qk"),y=a("2dXj"),f=a("G6rE"),v=Object(u.a)().propsFromState((()=>({loggedInUser:f.e.selectLoggedInUser}))).adjustStateProps((({loggedInUser:e})=>({userAvatarURI:e&&e.profile_image_url_https,userName:e&&e.name}))),T=a("3XMw"),k=a.n(T),w=a("N5qz"),E=a("MWbm"),L=a("cHvH"),S=a("5mJL"),x=a("DNho"),F=a("XP29"),C=a("t62R"),I=a("/yvb"),P=a("rHpw"),M=a("cjZk"),O=a("3rWK"),A=a("ll3R"),K=a("pNJr"),B=a("J0mu"),R=a("KrGU");const z=k.a.g34f2c63({verb:""}),j=k.a.e349147b,D=l.a.createElement(M.a,null),H=l.a.createElement(O.a,null),U=l.a.createElement(A.a,null),V=l.a.createElement(K.a,null),N=l.a.createElement(B.a,null),Q=l.a.createElement(R.a,null),J=P.a.create((e=>({root:{backgroundColor:e.colors.cellBackground,paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.spaces.space8},avatarColumn:{flexGrow:1,minWidth:e.spaces.space32,maxWidth:e.spaces.space48},avatar:{width:"100%"},body:{flexDirection:"column",flexGrow:1},fakeInput:{paddingTop:e.spaces.space16,paddingBottom:e.spaces.space8,paddingHorizontal:e.spaces.space2},toolbar:{alignItems:"center",flexDirection:"row",justifyContent:"space-between",marginRight:e.spaces.space2,marginTop:e.spaces.space20},toolbarSection:{alignItems:"center",flexDirection:"row"},toolBarButton:{marginHorizontal:0},firstToolBarButton:{marginLeft:`-${e.spaces.space8}`},iconContainer:{marginLeft:e.spacesPx.space2},icon:{color:e.colors.primary,height:"1.5em",marginRight:e.spaces.space12,marginLeft:`calc(${e.spaces.space4} + ${e.spaces.space1})`,width:"1.5em"},firstIcon:{marginLeft:0},lastIcon:{marginRight:0},tweetButton:{marginLeft:e.spaces.space12}})));var W=v((({userAvatarURI:e})=>l.a.createElement(L.a,null,(({windowWidth:t})=>{const a=!w.a.isOneColumnSquishedLayout(t);return l.a.createElement(S.a,{avatarCell:l.a.createElement(x.a.Consumer,null,(({avatarSize:t})=>l.a.createElement(F.a,{size:t,style:J.avatar,uri:e}))),avatarCellStyle:J.avatarColumn,cellStyle:J.body,style:J.root},l.a.createElement(C.b,{color:"gray700",numberOfLines:1,size:"headline1",style:J.fakeInput},j),l.a.createElement(E.a,{style:J.toolbar},l.a.createElement(E.a,{style:[J.toolbarSection,J.iconContainer]},l.a.createElement(I.a,{disabled:!0,icon:D,size:"medium",style:[J.toolBarButton,J.firstToolBarButton],type:"brandText"}),l.a.createElement(I.a,{disabled:!0,icon:H,size:"medium",style:J.toolBarButton,type:"brandText"}),a?l.a.createElement(I.a,{disabled:!0,icon:U,size:"medium",style:J.toolBarButton,type:"brandText"}):null,l.a.createElement(I.a,{disabled:!0,icon:V,size:"medium",style:J.toolBarButton,type:"brandText"}),a?l.a.createElement(I.a,{disabled:!0,icon:N,size:"medium",style:J.toolBarButton,type:"brandText"}):null,l.a.createElement(I.a,{disabled:!0,icon:Q,size:"medium",style:J.toolBarButton,type:"brandText"})),l.a.createElement(E.a,{style:J.toolbarSection},l.a.createElement(I.a,{disabled:!0,style:J.tweetButton,type:"brandFilled"},z))))})))),q=a("zb92"),G=Object(q.a)({loader:()=>(y.a.preload()||Promise.resolve()).then((()=>Promise.all([a.e(0),a.e(3),a.e(8),a.e(13),a.e(83)]).then(a.bind(null,"RrO2")))),renderPlaceholder:()=>l.a.createElement(W,null)}),$=a("EY8L"),X=a("1YZw"),Z=Object(u.a)().propsFromState((()=>({selectedTimelineId:r.c,useLatest:r.d}))).propsFromActions((()=>({addToast:X.b,updateBehavior:r.e}))).withAnalytics(),Y=a("yZDr");var ee=({accessibilityLabel:e,hoverLabel:t,onPress:a,renderMenu:n})=>{const i=l.a.createElement(Y.a,null);return l.a.createElement(I.a,{accessibilityLabel:e,hoverLabel:{label:t},icon:i,onPress:a,pullRight:!0,renderMenu:n,type:"primaryText"})},te=a("mjJ+"),ae=a("v6aA"),ne=a("Lsrn"),ie=a("k/Ka");const se=(e={})=>Object(ie.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[ne.a.root,e.style],viewBox:"0 0 36 36"},l.a.createElement("g",null,l.a.createElement("path",{d:"M27.325 20.595c0 7.333-5.913 13.278-13.206 13.278S.912 27.928.912 20.595 6.825 7.317 14.12 7.317s13.205 5.944 13.205 13.278",fill:"#71C9F8"}),l.a.createElement("path",{d:"M24.576 20.682c0 5.802-4.678 10.506-10.45 10.506-5.77 0-10.448-4.704-10.448-10.506s4.678-10.506 10.45-10.506c5.77 0 10.448 4.704 10.448 10.506",fill:"#97E3FF"}),l.a.createElement("path",{d:"M18.98 20.94l-3.86-.583v-6.215c0-.552-.45-1-1-1s-1 .448-1 1v7.076c0 .06.023.112.033.17.007.042.012.082.025.123.026.084.063.158.11.23.022.038.044.075.072.11.05.06.11.11.173.158.042.03.08.06.128.086.065.034.133.055.204.074.04.01.072.035.114.04l4.704.71c.05.01.1.012.15.012.487 0 .914-.355.988-.85.08-.548-.295-1.058-.84-1.14z",fill:"#005FD1"}),l.a.createElement("path",{d:"M24.553 20.682c0 5.79-4.68 10.5-10.434 10.5S3.683 26.47 3.683 20.68c0-2.953 1.227-5.707 3.31-7.665l.674 1.127c.38.635 1.227.668 1.524.06l1.153-2.36 1.312-2.687c.24-.49-.104-1.067-.65-1.088l-2.988-.116-2.625-.1c-.678-.027-1.05.735-.67 1.37l.804 1.344C2.613 13.065.883 16.736.883 20.683c0 7.333 5.937 13.298 13.234 13.298s13.234-5.964 13.234-13.297h-2.8z",fill:"#1DA1F2"}),l.a.createElement("path",{d:"M35 13.36h-1.467v-1.34c0-.552-.448-1-1-1s-1 .448-1 1v1.34h-1.467c-.552 0-1 .45-1 1s.448 1 1 1h1.467v1.342c0 .552.448 1 1 1s1-.448 1-1v-1.34H35c.552 0 1-.45 1-1s-.448-1-1-1z",fill:"#FFAD1F"}),l.a.createElement("path",{d:"M28.646 4.138h-2.01v-2.01c0-.552-.448-1-1-1s-1 .448-1 1v2.01h-2.01c-.552 0-1 .448-1 1s.448 1 1 1h2.01v2.01c0 .552.448 1 1 1s1-.448 1-1v-2.01h2.01c.552 0 1-.448 1-1s-.447-1-1-1z",fill:"#F6809A"})));se.metadata={width:36,height:36};var le=se;const oe=(e={})=>Object(ie.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[ne.a.root,e.style],viewBox:"0 0 36 36"},l.a.createElement("g",null,l.a.createElement("path",{d:"M35.508 15.41l-9.295-3.387L22.438 1.47c-.108-.302-.357-.48-.722-.495-.322.007-.604.22-.698.53l-3.293 10.71-9.132 3.805c-.285.118-.467.4-.46.708.007.308.203.58.492.686L17.92 20.8l3.775 10.552c.107.298.39.496.704.496h.016c.322-.007.604-.22.698-.53l3.293-10.712 9.132-3.803c.284-.118.466-.4.46-.708-.007-.308-.203-.58-.492-.686z",fill:"#61BCF6"}),l.a.createElement("path",{d:"M9.57 4.715l-2.906.065-.06-2.715C6.585 1.34 5.983.763 5.256.78 4.53.796 3.955 1.4 3.97 2.125l.063 2.715-2.747.062C.56 4.92-.016 5.522 0 6.248c.017.726.62 1.302 1.346 1.285l2.747-.062.062 2.716c.017.726.62 1.302 1.345 1.286.726-.016 1.302-.62 1.286-1.345l-.062-2.715 2.905-.066c.725-.017 1.3-.62 1.285-1.346-.017-.726-.62-1.302-1.346-1.285z",fill:"#F16888"}),l.a.createElement("path",{d:"M14.205 29.69l-1.65.036-.034-1.518c-.016-.726-.618-1.302-1.344-1.286s-1.302.62-1.286 1.345l.034 1.518-1.54.035c-.726.016-1.302.62-1.286 1.345.017.726.62 1.302 1.345 1.286l1.54-.034.034 1.518c.017.726.62 1.302 1.345 1.286.726-.016 1.302-.62 1.286-1.345l-.034-1.518 1.65-.037c.726-.016 1.302-.62 1.286-1.345-.016-.727-.62-1.303-1.345-1.286z",fill:"#FD9E1A"})));oe.metadata={width:36,height:36};var re=oe,ce=a("3JQt"),de=a("M2x3");const ue=k.a.j681ac0d,me=k.a.g8220472,pe=k.a.ccdd3766,he=k.a.g2657de3,_e=k.a.d126cb7c,ge=k.a.c41ecf3c,be=k.a.d18aa6d4,ye=k.a.c90dcfa2,fe=k.a.bc52b0cd,ve=k.a.j6382fe9,Te=k.a.f89f6785,ke=k.a.e4acfd11,we=k.a.f0c7628a,Ee=k.a.j7d0cac5,Le=k.a.eeab4419,Se=k.a.cae804f9;class xe extends l.a.PureComponent{constructor(...e){super(...e),i()(this,"_renderActionMenu",(e=>{const{useLatest:t}=this.props,{description:a}=this._getContent(),n=t?le:re;return l.a.createElement(te.a,{DescriptionIcon:n,description:a,descriptionStyle:Fe.description,isFixed:!0,items:this._getActionMenuItems(),onCloseRequested:e})})),i()(this,"_getActionMenuItems",(()=>{const{subText:e,text:t}=this._getContent();return[{text:t,onClick:this._handleTimelineSwitch,Icon:ce.a,subText:e},{link:"/settings/content_preferences",text:ue,onClick:this._handleContentPreferences,Icon:de.a}]})),i()(this,"_getContent",(()=>{const{useLatest:e}=this.props;return this.context.featureSwitches.isTrue("responsive_web_home_pinned_timelines_latest_enabled")?{description:e?ye:ge,subText:e?Se:Ee,text:e?Le:we}:{description:e?be:ge,subText:e?ke:Te,text:e?fe:ve}})),i()(this,"_handleTimelineSwitch",(e=>{const{onToggle:t}=this.props;e(),t()})),i()(this,"_handleContentPreferences",(e=>{const{onContentPreferencesSelect:t}=this.props;e(),t()}))}render(){const{onPress:e,useLatest:t}=this.props,a=t?me:pe,n=t?_e:he;return l.a.createElement(ee,{accessibilityLabel:a,hoverLabel:n,onPress:e,renderMenu:this._renderActionMenu})}}i()(xe,"contextType",ae.a);const Fe=P.a.create((e=>({description:{fontSize:e.fontSizes.headline1,color:e.colors.text,textAlign:"center",fontWeight:e.fontWeights.bold}})));var Ce=xe;const Ie=k.a.e4c6d14c,Pe=k.a.bffa2da7;class Me extends l.a.Component{constructor(...e){super(...e),i()(this,"_handleToggle",(()=>{const{featureSwitches:e,viewport:t}=this.context,{addToast:a,analytics:n,selectedTimelineId:i,updateBehavior:s,useLatest:l}=this.props;t.scrollToTop(),n.scribe({component:"customize",element:l?"see_top":"see_latest",action:"click"});const o=l?Ie:Pe;s({...i!==$.a.HOME&&l&&e.isTrue("responsive_web_home_pinned_timelines_latest_enabled")&&{selectedTimelineId:$.a.HOME},useLatest:!l}).then((()=>{e.isTrue("responsive_web_home_pinned_timelines_latest_enabled")||a({text:o})}))})),i()(this,"_handleSwitchPress",(()=>{const{analytics:e}=this.props;e.scribe({section:"navigation_bar",element:"customize_button",action:"click"})})),i()(this,"_handleContentPreferencesSelect",(()=>{const{analytics:e}=this.props;e.scribe({component:"customize",element:"see_preferences",action:"click"})}))}render(){const{useLatest:e}=this.props;return l.a.createElement(Ce,{onContentPreferencesSelect:this._handleContentPreferencesSelect,onPress:this._handleSwitchPress,onToggle:this._handleToggle,useLatest:e})}}i()(Me,"contextType",ae.a);var Oe=Z(Me),Ae=a("lUZE");const Ke=()=>window.performance&&"function"==typeof window.performance.now;var Be=a("yoO3"),Re=a("aeN7"),ze=a("hqKg"),je=a("wrlS"),De=a("WA1W");var He=Object(u.a)().propsFromState((()=>({module:Object(ze.createSelector)(je.d,((e,t)=>t.isLatestActive),((e,t=!1)=>t?Object(De.e)(e.isTrue("responsive_web_graphql_home_latest_enabled")):Object(De.f)(e.isTrue("responsive_web_graphql_home_enabled"))))}))).propsFromActions((()=>({addToast:X.b,updateBehavior:r.e}))).withAnalytics(),Ue=a("QIgh"),Ve=a("8UdT"),Ne=a("iu0J"),Qe=a("AP4B");var Je={...Object(Ue.a)({allowDownvote:!0,tweetDismissable:!0,shouldSelfThreadIncludeAvatar:!0}),...Qe.a,[Ve.b.EventSummary]:Object(Ne.a)({errorContext:"HOME_TIMELINE_SCREEN"})},We=a("MDbM"),qe=a("97Jx"),Ge=a.n(qe),$e=a("FIs5");const Xe={home_alt_a:[{height:200,uri:"https://abs.twimg.com/sticky/illustrations/empty-states/hatched-baby-chick-400x200.v1.png",width:400},{height:400,uri:"https://abs.twimg.com/sticky/illustrations/empty-states/hatched-baby-chick-800x400.v1.png",width:800},{height:600,uri:"https://abs.twimg.com/sticky/illustrations/empty-states/hatched-baby-chick-1200x600.v1.png",width:1200}],home_alt_b:[{height:200,uri:"https://abs.twimg.com/sticky/illustrations/empty-states/megaphone-400x200.v1.png",width:400},{height:400,uri:"https://abs.twimg.com/sticky/illustrations/empty-states/megaphone-800x400.v1.png",width:800},{height:600,uri:"https://abs.twimg.com/sticky/illustrations/empty-states/megaphone-1200x600.v1.png",width:1200}]},Ze={home_alt_a:{headerMessage:k.a.d4d5785f,bodyMessage:k.a.f3f4c67b,buttonText:k.a.a399ed2f},home_alt_b:{headerMessage:k.a.d2c66f1f,bodyMessage:k.a.jb52037c,buttonText:k.a.b34cb956}},Ye=e=>Xe[e],et=(e,t)=>{var a;return null===(a=Ze[t])||void 0===a?void 0:a[e]},tt=e=>et("headerMessage",e),at=e=>et("bodyMessage",e),nt=e=>et("buttonText",e),it=k.a.d2c66f1f,st=k.a.c3fbf1da,lt=k.a.bf17ded9;var ot=({onButtonPress:e,onImpression:t})=>{const{featureSwitches:a}=l.a.useContext(ae.a),n=a.getStringValue("responsive_web_htl_empty_state_redesign_variant"),i=["control","home_alt_a","home_alt_b"].includes(n)&&"control"!==n;return l.a.createElement($e.a,Ge()({buttonLink:"/i/connect_people",buttonText:i?nt(n):lt,header:i?tt(n):it},i&&{imageVariants:Ye(n)},{message:i?at(n):st,onButtonPress:e,onImpression:t}))},rt=a("EUHl"),ct=a("7BdX"),dt=a("fTQJ");const ut={count:void 0},mt=k.a.f089620b;var pt,ht=He((({analytics:e,module:t,recordTTFT:a=Re.e,shouldFetchLoadedContentOnMount:n=!0,timelineRef:i})=>{const s=l.a.useRef(!0),o=()=>{e.scribe({component:"empty_message",action:"impression"})},r=()=>{e.scribe({component:"empty_message",element:"primary_cta",action:"click"})},c=l.a.useCallback((({entries:e,fetchStatus:t})=>{if(t===We.a.FAILED&&(s.current=!1),s.current&&e.length){const t=e.some((({type:e})=>e===Ve.b.Tweet));s.current=!1,t&&a()}}),[a,s]);return l.a.createElement(dt.a,{entryConfiguration:Je,fetchTopOptions:ut,module:t,newTweetsPillMode:rt.a.URT,onEntriesRendered:c,prerollDisplayLocation:ct.c.TIMELINE_HOME,renderEmptyState:()=>l.a.createElement(ot,{onButtonPress:r,onImpression:o}),shouldFetchLoadedContentOnMount:n,timelineRef:i,title:mt})})),_t=a("7JQg"),gt=a("VS6U"),bt=a("Es6L"),yt=a("LsPn"),ft=a("gZV8"),vt=(a("enFi"),a("Fr3L")),Tt=a("lnL+"),kt=a("Rp9C"),wt=a("jAXQ"),Et=a.n(wt);const Lt=e=>{const{name:t,topic_id:n}=Et()(void 0!==pt?pt:pt=a("/n9r"),e.topic);l.a.useEffect((()=>{e.analytics.scribe({element:"topic",action:"impression",data:{items:[kt.a.forTopic(n)]}})}),[]);const i=l.a.useCallback((()=>{e.analytics.scribe({element:"topic",action:"click",data:{items:[kt.a.forTopic(n)]}})}),[e.analytics,n]);return l.a.createElement(Tt.a,{link:`/i/topics/${n}`,onClick:i,text:t})};var St,xt=a("Irs7"),Ft=a("yUQf"),Ct=a("DQzJ"),It=a("6iuV");const Pt=k.a.ffd9cfe6,Mt=void 0!==St?St:St=a("yKhE"),Ot={context:"TOPIC_PIVOTS_CAROUSEL"},At=()=>{var e,t,a,n,i,s,o;const r=l.a.useRef(0),c=Object(xt.b)(),d=Object(Ft.a)(f.e.selectLoggedInUser),{data:u}=Object(Ct.a)(Mt,{}),m=("User"===(null==u||null===(e=u.viewer)||void 0===e||null===(t=e.user_results)||void 0===t||null===(a=t.result)||void 0===a?void 0:a.__typename)&&(null==u||null===(n=u.viewer)||void 0===n||null===(i=n.user_results)||void 0===i||null===(s=i.result)||void 0===s||null===(o=s.home_topics_navigator_slices)||void 0===o?void 0:o.items)||[]).map(((e,t)=>null!=e&&e.topic?l.a.createElement(Lt,{analytics:c,key:t,topic:e.topic}):null)),p=l.a.useCallback((()=>{c.scribeAction("impression"),c.scribe({element:"see_more",action:"impression"})}),[c]),h=l.a.useCallback((({next:e,previous:t})=>{t>e?c.scribeAction("scroll_left"):t<e&&c.scribeAction("scroll_right")}),[c]),_=l.a.useCallback((({index:e,intersectionRatio:t})=>{e===r.current-1&&t>=ft.c&&c.scribeAction("reached_end")}),[c]);l.a.useEffect((()=>{m.length>0&&p()}),[]),l.a.useEffect((()=>{r.current=m.length+1}),[m]);const g=l.a.useCallback((()=>{c.scribe({element:"see_more",action:"click"})}),[c]),b=d?`/${d.screen_name}/topics`:"/i/topics/picker",y=l.a.createElement(I.a,{key:"seeMorePivot",link:b,onClick:g,type:"brandOutlined"},Pt);return m.length>0?l.a.createElement(It.a,{childrenStyle:Kt.childrenStyle,onScroll:h,onVisibleRangeChange:_,style:Kt.carousel},[...m,y]):null},Kt=P.a.create((e=>({carousel:{marginHorizontal:`calc(${e.spaces.space12} - ${e.spaces.space2})`,marginBottom:e.spaces.space1,backgroundColor:e.colors.navigationBackground,zIndex:1},childrenStyle:{marginHorizontal:e.spaces.space4,marginVertical:e.spaces.space12}})));var Bt=()=>l.a.createElement(vt.a,{errorConfig:Ot},l.a.createElement(At,null)),Rt=a("aITJ"),zt=a("0yYu"),jt=a("mw9i"),Dt=a("k/OQ");const Ht=k.a.i5f7b6b8,Ut=k.a.d126cb7c,Vt=k.a.ha8209bb,Nt={page:"home"},Qt={page:"home_latest"},Jt={section:"topics_navigator",component:"suggest_topics_module"};class Wt extends l.a.Component{constructor(e,t){super(e,t),i()(this,"_lastTimelineSwitchTimestamp",0),i()(this,"_unmounted",!1),i()(this,"_getTimelineMetadata",(()=>{const e=this._isLatestActive();return{scribeNamespace:e?Qt:Nt,title:e?Ut:Vt}})),i()(this,"_getLink",((e,t)=>{const{analytics:a,selectedTimelineId:n,updateBehavior:i}=this.props;return{isActive:()=>n===e,label:t,key:e,onClick:()=>{if(n===e)this._timeline&&this._timeline.refreshOrGoTop();else{const t=Date.now()-this._lastTimelineSwitchTimestamp;i({selectedTimelineId:e}),a.scribe({section:n,element:e,action:"click",data:{duration_ms:t}})}},retainScrollPosition:!1,to:{pathname:"/home"}}})),i()(this,"_getLinks",(()=>{const{useLatest:e}=this.props;return[this._getLink($.a.HOME,Vt),e?this._getLink($.a.HOME_LATEST,Ut):void 0]})),i()(this,"_isLatestActive",(()=>this._isLatestPinned()?this.props.selectedTimelineId===$.a.HOME_LATEST:this._latestTimelineSwitchEnabled&&this.props.useLatest)),i()(this,"_isLatestPinned",(()=>this._latestTimelineSwitchEnabled&&this.props.useLatest&&this.context.featureSwitches.isTrue("responsive_web_home_pinned_timelines_latest_enabled"))),i()(this,"_renderTimeline",(()=>{const e=this._isLatestActive();return l.a.createElement(h.a,null,this.context.featureSwitches.isTrue("home_timeline_topics_navigator_enabled")?l.a.createElement(_t.b,{namespace:Jt},l.a.createElement(Bt,null)):null,l.a.createElement(ht,{isLatestActive:e,shouldFetchLoadedContentOnMount:e,timelineRef:this._setTimelineRef}))})),i()(this,"_renderPrimaryContent",(()=>{const{configurationFetchStatus:e,history:t,location:a}=this.props,{isRestrictedSession:n}=this.context,i=l.a.createElement(b.a,{history:t});return l.a.createElement(l.a.Fragment,null,Object(bt.a)()&&!n?l.a.createElement(l.a.Fragment,null,l.a.createElement(G,{history:t,location:a}),l.a.createElement(zt.a,null)):null,l.a.createElement(_.a,{component:jt.a,fab:i},Rt.b.isKaiOS()?l.a.createElement(yt.a,{leftText:Ht,onLeftClick:this._handleSoftLeftClick}):null,l.a.createElement(g.a,{fetchStatus:e,render:this._renderTimeline})))})),i()(this,"_handleSoftLeftClick",(()=>{const{history:e}=this.props;e.push("/account")})),i()(this,"_handleTabRefresh",(()=>{this._timeline&&this._timeline.refreshOrGoTop()})),i()(this,"_handleWindowFocus",(()=>{this._timeline&&this._timeline.fetchTop({onlyIfStale:!0})})),i()(this,"_setTimelineRef",(e=>{this._timeline=e}));const{featureSwitches:a}=this.context;this._latestTimelineSwitchEnabled=a.isTrue("home_timeline_latest_timeline_switch_enabled"),this._pinnedListsEnabled=a.isTrue("responsive_web_home_pinned_timelines_lists_enabled")}componentDidMount(){if(this._lastTimelineSwitchTimestamp=Date.now(),window.addEventListener("focus",this._handleWindowFocus),this.props.clearLocalPinnedListStorage(),this._pinnedListsEnabled&&this.props.fetchPins(),this.context.featureSwitches.isTrue("responsive_web_framerate_tracking_home_enabled")){const e=`home${Rt.b.isDesktopOS()?"":"_mobile"}`;(Ke()?a.e(340).then(a.bind(null,"Iid0")).then((({default:e})=>e)):Promise.resolve(void 0)).then((t=>{!this._unmounted&&t&&(this._fpsTracking=t({reportNamespace:e}))}))}}componentWillUnmount(){this._unmounted=!0,window.removeEventListener("focus",this._handleWindowFocus),this._fpsTracking&&this._fpsTracking.stop()}componentDidUpdate(e){e.selectedTimelineId!==this.props.selectedTimelineId&&(this._lastTimelineSwitchTimestamp=Date.now())}render(){const{history:e}=this.props,t=this._isLatestPinned(),a=Object(bt.a)(),n=!a&&t?l.a.createElement(Ae.a,{style:qt.iconTwitter}):void 0,i=this._latestTimelineSwitchEnabled?l.a.createElement(Oe,null):void 0,{scribeNamespace:s,title:r}=this._getTimelineMetadata(),c=a||!t?r:null,d=t?this._getLinks():[],u=d.length>1?l.a.createElement(Dt.a,{links:d}):void 0;return l.a.createElement(_t.b,{namespace:s},l.a.createElement(Be.a,{locationKey:s.page},l.a.createElement(gt.a,{centeredLogo:n,documentTitle:r,history:e,onTabRefresh:this._handleTabRefresh,primaryContent:this._renderPrimaryContent,rightControl:i,secondaryBar:u,sidebarContent:l.a.createElement(o.a,null),title:c})))}}i()(Wt,"contextType",ae.a);const qt=P.a.create((e=>({iconTwitter:{flexGrow:1,height:"1.75rem",color:e.colors.primary}})));t.default=p(Wt)},yKhE:function(e,t,a){"use strict";a.r(t);const n={fragment:{argumentDefinitions:i=[{defaultValue:null,kind:"LocalArgument",name:"cursor_string"},{defaultValue:20,kind:"LocalArgument",name:"max_count"}],kind:"Fragment",metadata:null,name:"TopicPivotsCarouselQuery",selections:[{alias:"viewer",args:s=[{kind:"Literal",name:"s",value:21}],concreteType:"Viewer",kind:"LinkedField",name:"viewer_v2",plural:!1,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[l={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:"home_topics_navigator_slices",args:o=[{kind:"Variable",name:"cursor_string",variableName:"cursor_string"},{kind:"Variable",name:"max_count",variableName:"max_count"}],concreteType:null,kind:"LinkedField",name:"__TopicPivotsCarouselQuery_home_topics_navigator_slices_slice",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"items",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Topic",kind:"LinkedField",name:"topic",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"TopicPivot_topic"}],storageKey:null}],type:"TopicItem",abstractKey:null}],storageKey:null},r={alias:null,args:null,concreteType:"SliceInfo",kind:"LinkedField",name:"slice_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"next_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"previous_cursor",storageKey:null}],storageKey:null}],type:"HomeTopicsNavigatorSlices",abstractKey:null}],storageKey:null}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:"viewer_v2(s:21)"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:i,kind:"Operation",name:"TopicPivotsCarouselQuery",selections:[{alias:"viewer",args:s,concreteType:"Viewer",kind:"LinkedField",name:"viewer_v2",plural:!1,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"home_topics_navigator_slices",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"items",plural:!0,selections:[l,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Topic",kind:"LinkedField",name:"topic",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"topic_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"TopicItem",abstractKey:null}],storageKey:null},r],type:"HomeTopicsNavigatorSlices",abstractKey:null}],storageKey:null},{alias:null,args:o,filters:["cursor_string","max_count"],handle:"slice",key:"TopicPivotsCarouselQuery_home_topics_navigator_slices",kind:"LinkedHandle",name:"home_topics_navigator_slices"}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:"viewer_v2(s:21)"}]},params:{id:"ai0pX5Vn1pKiL73yjIAADg",metadata:{sliceInfoPath:["viewer","user_results","result","home_topics_navigator_slices","slice_info"]},name:"TopicPivotsCarouselQuery",operationKind:"query",text:null}};var i,s,l,o,r;n.hash="00b62fb55ad091187417013cbaa9e6a0",t.default=n}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/bundle.HomeTimeline.24406825.js.map