(window.webpackJsonp=window.webpackJsonp||[]).push([[169],{"+Bsv":function(e,t,n){"use strict";var r=n("ERkP"),a=n.n(r),i=n("3XMw"),o=n.n(i),s=n("M2x3"),c="settingsAppBar",l=n("/yvb"),d=n("rHpw");const u=o.a.bb081ea1,p={viewType:"settings_button"},h=a.a.memo((({onPress:e,pullRight:t,to:n})=>a.a.createElement(l.a,{accessibilityLabel:u,behavioralEventContext:p,hoverLabel:{label:u},icon:a.a.createElement(s.a,null),link:n,onPress:e,pullRight:t,style:b.button,testID:c,type:"primaryText"}))),b=d.a.create((e=>({button:{marginVertical:`calc(-${e.spaces.space12})`}})));t.a=h},"+o05":function(e,t,n){"use strict";var r=n("ezF+"),a=Object.freeze({Cell:"Cell",Hero:"Hero",Tile:"Tile"});const i={loader:()=>n.e(228).then(n.bind(null,"QPD4")),loaderKey:"defaultScoreEventSummaryLoader",strategy:n("XBtf").a.Critical};t.a=r.c({selectDisplayType:e=>e.content.displayType,handlers:{[a.Cell]:i}})},"A+RP":function(e,t,n){"use strict";n.r(t),n.d(t,"UPDATE_INTERVAL",(function(){return N})),n.d(t,"ExploreSidebar",(function(){return Q}));var r=n("KEM+"),a=n.n(r),i=n("ERkP"),o=n.n(i),s=n("FIs5"),c=n("ezF+"),l=n("8UdT"),d=n("iu0J"),u=n("xN10"),p=n("+o05"),h=n("5Y9N"),b=n("XtkE"),f=n("VPAj"),m=n("3XMw"),w=n.n(m),y=n("caTy"),T=n("+Bsv"),g=n("MWbm"),E=n("Irs7"),_=n("hxu0"),v=n("6vad"),S=n("rC8y");const C=w.a.c5f4befa,O=w.a.d228a9a0;class x extends o.a.Component{constructor(e,t){super(e,t),a()(this,"_handleShowMoreInlineClick",(()=>{const{onClick:e}=this.props;this.setState({showMoreTrends:!0}),e("show_more_inline")})),a()(this,"_handleShowMoreClick",(()=>{const{onClick:e}=this.props;e("show_more")})),this.state={showMoreTrends:!1}}componentDidMount(){const{analytics:e,trends:t}=this.props;t&&t.length>0&&e.scribe({action:"impression",component:"explore_sidebar"})}canShowMoreTrends(){const{trends:e}=this.props;return!this.state.showMoreTrends&&e.length>5}render(){const{footer:e,headerTitle:t,isInSidebar:n}=this.props,r=o.a.createElement(T.a,{to:"/settings/trends"});return o.a.createElement(g.a,null,o.a.createElement(v.b,{rightControl:r,text:t||C}),this._renderTrends(),this.canShowMoreTrends()?o.a.createElement(S.a,{onPress:this._handleShowMoreInlineClick,text:O,withBottomRadius:!0,withDarkerInteractiveBackground:n}):!!e&&o.a.createElement(S.a,{link:e.landingUrl?Object(y.b)(e.landingUrl):void 0,onPress:this._handleShowMoreClick,text:e.text,withBottomRadius:!0,withDarkerInteractiveBackground:n}))}_renderTrends(){const{trends:e}=this.props,{showMoreTrends:t}=this.state;return(t?e:e.slice(0,5)).map((e=>o.a.createElement(o.a.Fragment,{key:e.key},e.item)))}}var k=Object(E.a)(Object(_.a)(x)),j=n("zh9S");var I=c.g({bindActions:()=>({scribeAction:j.c}),component:k,createProps:({actions:{scribeAction:e},entry:t,renderEntry:n,scribeNamespace:r})=>{const{footer:a,header:i,items:o}=t.content;return{footer:a,headerTitle:i&&i.text,onClick:t=>{e({...r,element:t,action:"click"})},trends:o.map((e=>({item:n(e),key:e.entryId})))}},shouldDisplayBorder:Object(f.a)(!1)});const M="TrendsModule",P="EXPLORE_SIDEBAR",R={[l.b.TimelineCursor]:c.e(c.a()),[l.b.Label]:c.e(c.a()),[l.b.Message]:c.e(c.a()),[l.b.News]:c.e(c.a()),[l.b.Trend]:Object(b.a)({withThirdPartyCards:!1,errorContext:P}),[l.b.EventSummary]:Object(d.a)({errorContext:P}),[l.b.ScoreEventSummary]:p.a},L={[M]:I};var D={...Object(h.a)({customHandlers:L,customSelectDisplayType:e=>(e=>{const{content:{items:t}}=e;return t.length>0&&Object(u.a)(t,(e=>e.type===l.b.Trend))})(e)?M:e.content.displayType,isInSidebar:!0}),...R},A=n("oQhu"),B=n("fTQJ"),U=n("b8qQ"),$=n("2g+p"),F=n("v6aA"),X=n("BxsD");const z=w.a.b8e930fd,H=w.a.ae05f268,N=3e5,W=()=>o.a.createElement(s.a,{message:H}),J=Object(A.a)(((e,t)=>Object(X.c)({featureSwitches:t,displayLocation:X.a.WebSidebar,focalTweetId:e}))),K=Object(A.a)(((e,t)=>Object(X.c)({featureSwitches:t,displayLocation:X.a.WebSidebar,profileUserId:e})));class Q extends o.a.Component{constructor(...e){super(...e),a()(this,"_getModule",(()=>{const{focalTweetId:e,profileUserId:t}=this.props;return e?J(e,this.context.featureSwitches):t?K(t,this.context.featureSwitches):Object(X.e)(this.context.featureSwitches)})),a()(this,"_setTimelineRef",(e=>{this._timeline=e})),a()(this,"_onAppForegrounded",(e=>{"active"===e&&this._fetchUpdates()})),a()(this,"_fetchUpdates",(()=>{this._timeline&&"active"===$.a.currentState&&this._timeline.fetchTop({})}))}componentDidMount(){$.a.addEventListener("change",this._onAppForegrounded)}componentWillUnmount(){$.a.removeEventListener("change",this._onAppForegrounded)}render(){return o.a.createElement(g.a,null,o.a.createElement(B.a,{entryConfiguration:D,module:this._getModule(),pollingIntervalMsOverride:N,renderUnavailable:W,scroller:U.a,showLoadingFooter:!1,timelineRef:this._setTimelineRef,title:z,withKeyboardShortcuts:!1}))}}a()(Q,"contextType",F.a);t.default=Q},BxsD:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"f",(function(){return h})),n.d(t,"e",(function(){return b})),n.d(t,"g",(function(){return f}));var r=n("vXCH"),a=n("oQhu"),i=n("ZNT5"),o=n("eR3e");const s=Object.freeze({Trends:"trends"}),c=Object.freeze({WebSidebar:"web_sidebar"}),l="explore-",d=({contentType:e,displayLocation:t,featureSwitches:n,focalTweetId:r,includePageConfiguration:a=!1,initialTabId:o,profileUserId:s}={})=>{const c=e||t||"main",d=r?`${l}${c}-tweet-${r}`:s?`${l}${c}-user-${s}`:`${l}${c}`,p=n.isTrue("responsive_web_new_client_events_enabled");return Object(i.a)({timelineId:d,formatResponse:u(p),getEndpoint:e=>e.URT.fetchExplore,getEndpointParams:n=>({...n,candidate_source:e,display_location:t,focal_tweet_id:r,include_page_configuration:a,initial_tab_id:o,profile_user_id:s,entity_tokens:p}),context:"FETCH_EXPLORE",perfKey:`${l}${c}`,staleIntervalMs:9e5})},u=e=>t=>{const{pageConfiguration:n}=t;if(e&&n&&n.tabs){const a=n.tabs.tabs.map((t=>{var n,r,a;const i={...null===(n=t.urtEndpoint)||void 0===n||null===(r=n.urtEndpointOptions)||void 0===r?void 0:r.requestParams,entity_tokens:e};return{...t,urtEndpoint:{...t.urtEndpoint,urtEndpointOptions:{...null===(a=t.urtEndpoint)||void 0===a?void 0:a.urtEndpointOptions,requestParams:i}}}})),i={...t,pageConfiguration:{...n,tabs:{...n.tabs,tabs:a}}};return Object(r.a)(i)}return Object(r.a)(t)},p=(e,t)=>d({featureSwitches:e,includePageConfiguration:!0,initialTabId:t}),h=Object(a.a)((e=>d({featureSwitches:e,contentType:s.Trends}))),b=Object(a.a)((e=>d({featureSwitches:e,displayLocation:c.WebSidebar}))),f=()=>(e,t)=>e(Object(o.t)(t()).filter((e=>0===e.indexOf(l))).map((e=>Object(o.g)(e))))},XtkE:function(e,t,n){"use strict";var r=n("ezF+"),a=n("XBtf");t.a=({errorContext:e,withThirdPartyCards:t=!1})=>r.e({loader:()=>n.e(236).then(n.bind(null,"+92Z")),loaderKey:"trendDefaultLoader",loaderOptions:{withThirdPartyCards:t,errorContext:e},strategy:a.a.Critical})},hxu0:function(e,t,n){"use strict";var r=n("97Jx"),a=n.n(r),i=n("ERkP"),o=n.n(i),s=n("vqbU");t.a=e=>t=>o.a.createElement(s.a.Consumer,null,(n=>o.a.createElement(e,a()({},t,{isInSidebar:n}))))}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/loader.ExploreSidebar.de2ffd35.js.map